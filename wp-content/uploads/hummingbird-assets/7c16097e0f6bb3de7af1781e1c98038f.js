/**handles:counter,easyPieChart,mixItUp,prettyphoto,fitvids,flexslider**/
!function(r){"use strict";r.fn.absoluteCounter=function(c){return c=r.extend({},r.fn.absoluteCounter.defaults,c||{}),r(this).each(function(){var o=this,l=c.speed,i=c.setStyles,e=c.delayedStart,p=c.fadeInDelay;i&&r(o).css({display:"block",position:"relative",overflow:"hidden"}).addClass("animated"),r(o).css("opacity","0"),r(o).animate({opacity:0},e,function(){var e=r(o).text();r(o).text("");for(var t=0;t<e.length;t++){var a=e.charAt(t),n="";if(0<=parseInt(a,10)){for(var n='<span class="onedigit p'+(e.length-t)+" d"+a+'">',s=0;s<=parseInt(a,10);s++)n+='<span class="n'+s%10+'">'+s%10+"</span>";n+="</span>"}else n='<span class="onedigit p'+(e.length-t)+' char"><span class="c">'+a+"</span></span>";r(o).append(n)}r(o).animate({opacity:1},p),r("span.onedigit",o).each(function(e,t){i&&(r(t).css({float:"left",position:"relative"}),r("span",r(t)).css({display:"block"}));var a=r("span",r(t)).length,n=r(o).height();r(t).css({height:a*n+"px",top:"0"}),r("span",r(t)).css({height:n+"px"}),r(t).animate({top:(a-1)*n*-1+"px"},l,function(){"function"==typeof c.onComplete&&c.onComplete.call(o)})})})})},r.fn.absoluteCounter.defaults={speed:2e3,setStyles:!0,onComplete:null,delayedStart:0,fadeInDelay:0}}(jQuery);
!function(){var p;(p=jQuery).easyPieChart=function(t,n){var e,i,a,s,r,o,c,l=this;return this.el=t,this.$el=p(t),this.$el.data("easyPieChart",this),this.init=function(){var t;return l.options=p.extend({},p.easyPieChart.defaultOptions,n),t=parseInt(l.$el.data("percent"),10),l.percentage=0,l.canvas=p("<canvas width='"+l.options.size+"' height='"+l.options.size+"'></canvas>").get(0),l.$el.append(l.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(l.canvas),l.ctx=l.canvas.getContext("2d"),1.5<window.devicePixelRatio&&(p(l.canvas).css({width:l.options.size,height:l.options.size}),l.canvas.width*=2,l.canvas.height*=2,l.ctx.scale(2,2)),l.ctx.translate(l.options.size/2,l.options.size/2),l.$el.addClass("easyPieChart"),l.$el.css({width:l.options.size,height:l.options.size,lineHeight:l.options.size+"px"}),l.update(t),l},this.update=function(t){return!1===l.options.animate?a(t):i(l.percentage,t)},o=function(){var t,n,i;for(l.ctx.fillStyle=l.options.scaleColor,l.ctx.lineWidth=1,i=[],t=n=0;n<=24;t=++n)i.push(e(t));return i},e=function(t){var n,n=t%6==0?0:.017*l.options.size;return l.ctx.save(),l.ctx.rotate(t*Math.PI/12),l.ctx.fillRect(l.options.size/2-n,0,.05*-l.options.size+n,1),l.ctx.restore()},c=function(){var t,t=l.options.size/2-l.options.lineWidth/2;return!1!==l.options.scaleColor&&(t-=.08*l.options.size),l.ctx.beginPath(),l.ctx.arc(0,0,t,0,2*Math.PI,!0),l.ctx.closePath(),l.ctx.strokeStyle=l.options.trackColor,l.ctx.lineWidth=l.options.lineWidth,l.ctx.stroke()},r=function(){if(!1!==l.options.scaleColor&&o(),!1!==l.options.trackColor)return c()},a=function(t){var n;return r(),l.ctx.strokeStyle=p.isFunction(l.options.barColor)?l.options.barColor(t):l.options.barColor,l.ctx.lineCap=l.options.lineCap,l.ctx.lineWidth=l.options.lineWidth,n=l.options.size/2-l.options.lineWidth/2,!1!==l.options.scaleColor&&(n-=.08*l.options.size),l.ctx.save(),l.ctx.rotate(-Math.PI/2),l.ctx.beginPath(),l.ctx.arc(0,0,n,0,2*Math.PI*t/100,!1),l.ctx.stroke(),l.ctx.restore()},i=function(t,n){var i,e,o,e=30,o=e*l.options.animate/1e3,i=0;return l.options.onStart.call(l),l.percentage=n,l.animation&&(clearInterval(l.animation),l.animation=!1),l.animation=setInterval(function(){if(l.ctx.clearRect(-l.options.size/2,-l.options.size/2,l.options.size,l.options.size),r.call(l),a.call(l,[s(i,t,n-t,o)]),1<++i/o)return clearInterval(l.animation),l.animation=!1,l.options.onStop.call(l)},1e3/e)},s=function(t,n,i,e){var o,a,o=function(t){return Math.pow(t,2)},a;return i/2*function(t){return t<1?o(t):2-o(t/2*-2+2)}(t/=e/2)+n},this.init()},p.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:!1,onStart:p.noop,onStop:p.noop},p.fn.easyPieChart=function(e){return p.each(this,function(t,n){var i,i=p(n);if(!i.data("easyPieChart"))return i.data("easyPieChart",new p.easyPieChart(n,e))})}}.call(this);
!function(y){function l(e,t,o,i,s){function r(){u.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd"),t&&b(t,o,i,s),s.startOrder=[],s.newOrder=[],s.origSort=[],s.checkSort=[],d.removeStyle(s.prefix+"filter, filter, "+s.prefix+"transform, transform, opacity, display").css(s.clean).removeAttr("data-checksum"),window.atob||d.css({display:"none",opacity:"0"}),u.removeStyle(s.prefix+"transition, transition, "+s.prefix+"perspective, perspective, "+s.prefix+"perspective-origin, perspective-origin, "+(s.resizeContainer?"height":"")),"list"==s.layoutMode?(h.css({display:s.targetDisplayList,opacity:"1"}),s.origDisplay=s.targetDisplayList):(h.css({display:s.targetDisplayGrid,opacity:"1"}),s.origDisplay=s.targetDisplayGrid),s.origLayout=s.layoutMode,setTimeout(function(){var e;d.removeStyle(s.prefix+"transition, transition"),s.mixing=!1,"function"==typeof s.onMixEnd&&(s=(e=s.onMixEnd.call(this,s))||s)})}var n;clearInterval(s.failsafe),s.mixing=!0,s.filter=e;for(var a=(s="function"==typeof s.onMixStart?(n=s.onMixStart.call(this,s))||s:s).transitionSpeed,n=0;n<2;n++){var l=0==n?s.prefix:"";s.transition[l+"transition"]="all "+a+"ms linear",s.transition[l+"transform"]=l+"translate3d(0,0,0)",s.perspective[l+"perspective"]=s.perspectiveDistance+"px",s.perspective[l+"perspective-origin"]=s.perspectiveOrigin}var c=s.targetSelector,d=i.find(c);d.each(function(){this.data={}});var u=d.parent();u.css(s.perspective),s.easingFallback="ease-in-out","smooth"==s.easing&&(s.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==s.easing&&(s.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==s.easing&&(s.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",s.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==s.easing&&(s.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",s.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)"),n="list"==s.layoutMode&&null!=s.listEffects?s.listEffects:s.effects,Array.prototype.indexOf&&(s.fade=-1<n.indexOf("fade")?"0":"",s.scale=-1<n.indexOf("scale")?"scale(.01)":"",s.rotateZ=-1<n.indexOf("rotateZ")?"rotate(180deg)":"",s.rotateY=-1<n.indexOf("rotateY")?"rotateY(90deg)":"",s.rotateX=-1<n.indexOf("rotateX")?"rotateX(90deg)":"",s.blur=-1<n.indexOf("blur")?"blur(8px)":"",s.grayscale=-1<n.indexOf("grayscale")?"grayscale(100%)":"");var h=y(),p=y(),m=[],f=!1;"string"==typeof e?m=x(e):(f=!0,y.each(e,function(e){m[e]=x(this)})),"or"==s.filterLogic?(""==m[0]&&m.shift(),m.length<1?p=p.add(i.find(c+":visible")):d.each(function(){var e=y(this),t;f?(t=0,y.each(m,function(){this.length?e.is("."+this.join(", ."))&&t++:0<t&&t++}),t==m.length?h=h.add(e):p=p.add(e)):e.is("."+m.join(", ."))?h=h.add(e):p=p.add(e)})):(h=h.add(u.find(c+"."+m.join("."))),p=p.add(u.find(c+":not(."+m.join(".")+"):visible"))),e=h.length;var g=y(),w=y(),v=y();if(p.each(function(){var e=y(this);"none"!=e.css("display")&&(g=g.add(e),v=v.add(e))}),h.filter(":visible").length==e&&!g.length&&!t){if(s.origLayout==s.layoutMode)return r(),0;if(1==h.length)return"list"==s.layoutMode?(i.addClass(s.listClass),i.removeClass(s.gridClass),v.css("display",s.targetDisplayList)):(i.addClass(s.gridClass),i.removeClass(s.listClass),v.css("display",s.targetDisplayGrid)),r(),0}if(s.origHeight=u.height(),h.length){if(i.removeClass(s.failClass),h.each(function(){var e=y(this);"none"==e.css("display")?w=w.add(e):v=v.add(e)}),s.origLayout!=s.layoutMode&&0==s.animateGridList)return"list"==s.layoutMode?(i.addClass(s.listClass),i.removeClass(s.gridClass),v.css("display",s.targetDisplayList)):(i.addClass(s.gridClass),i.removeClass(s.listClass),v.css("display",s.targetDisplayGrid)),r(),0;if(!window.atob)return r(),0;if(d.css(s.clean),v.each(function(){this.data.origPos=y(this).offset()}),"list"==s.layoutMode?(i.addClass(s.listClass),i.removeClass(s.gridClass),w.css("display",s.targetDisplayList)):(i.addClass(s.gridClass),i.removeClass(s.listClass),w.css("display",s.targetDisplayGrid)),w.each(function(){this.data.showInterPos=y(this).offset()}),g.each(function(){this.data.hideInterPos=y(this).offset()}),v.each(function(){this.data.preInterPos=y(this).offset()}),"list"==s.layoutMode?v.css("display",s.targetDisplayList):v.css("display",s.targetDisplayGrid),t&&b(t,o,i,s),e=t)e:if(e=s.origSort,n=s.checkSort,e.length!=n.length)e=!1;else{for(l=0;l<n.length;l++)if(e[l].compare&&!e[l].compare(n[l])||e[l]!==n[l]){e=!1;break e}e=!0}if(e)return r(),0;for(g.hide(),w.each(function(){this.data.finalPos=y(this).offset()}),v.each(function(){this.data.finalPrePos=y(this).offset()}),s.newHeight=u.height(),t&&b("reset",null,i,s),w.hide(),v.css("display",s.origDisplay),"block"==s.origDisplay?(i.addClass(s.listClass),w.css("display",s.targetDisplayList)):(i.removeClass(s.listClass),w.css("display",s.targetDisplayGrid)),s.resizeContainer&&u.css("height",s.origHeight+"px"),e={},n=0;n<2;n++)e[(l=0==n?s.prefix:"")+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,e[l+"filter"]=s.blur+" "+s.grayscale;w.css(e),v.each(function(){var e=this.data,t=y(this);t.hasClass("mix_tohide")?(e.preTX=e.origPos.left-e.hideInterPos.left,e.preTY=e.origPos.top-e.hideInterPos.top):(e.preTX=e.origPos.left-e.preInterPos.left,e.preTY=e.origPos.top-e.preInterPos.top);for(var o={},i=0;i<2;i++){var r=0==i?s.prefix:"";o[r+"transform"]="translate("+e.preTX+"px,"+e.preTY+"px)"}t.css(o)}),"list"==s.layoutMode?(i.addClass(s.listClass),i.removeClass(s.gridClass)):(i.addClass(s.gridClass),i.removeClass(s.listClass)),setTimeout(function(){if(s.resizeContainer){for(var e={},t=0;t<2;t++){var o=0==t?s.prefix:"";e[o+"transition"]="all "+a+"ms ease-in-out",e.height=s.newHeight+"px"}u.css(e)}for(g.css("opacity",s.fade),w.css("opacity",1),w.each(function(){var e=this.data;e.tX=e.finalPos.left-e.showInterPos.left,e.tY=e.finalPos.top-e.showInterPos.top;for(var t={},o=0;o<2;o++){var i=0==o?s.prefix:"";t[i+"transition-property"]=i+"transform, "+i+"filter, opacity",t[i+"transition-timing-function"]=s.easing+", linear, linear",t[i+"transition-duration"]=a+"ms",t[i+"transition-delay"]="0",t[i+"transform"]="translate("+e.tX+"px,"+e.tY+"px)",t[i+"filter"]="none"}y(this).css("-webkit-transition","all "+a+"ms "+s.easingFallback).css(t)}),v.each(function(){var e=this.data;e.tX=0!=e.finalPrePos.left?e.finalPrePos.left-e.preInterPos.left:0,e.tY=0!=e.finalPrePos.left?e.finalPrePos.top-e.preInterPos.top:0;for(var t={},o=0;o<2;o++){var i=0==o?s.prefix:"";t[i+"transition"]="all "+a+"ms "+s.easing,t[i+"transform"]="translate("+e.tX+"px,"+e.tY+"px)"}y(this).css("-webkit-transition","all "+a+"ms "+s.easingFallback).css(t)}),e={},t=0;t<2;t++)e[(o=0==t?s.prefix:"")+"transition"]="all "+a+"ms "+s.easing+", "+o+"filter "+a+"ms linear, opacity "+a+"ms linear",e[o+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,e[o+"filter"]=s.blur+" "+s.grayscale,e.opacity=s.fade;g.css(e),u.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(e){(-1<e.originalEvent.propertyName.indexOf("transform")||-1<e.originalEvent.propertyName.indexOf("opacity"))&&(-1<c.indexOf(".")?y(e.target).hasClass(c.replace(".",""))&&r():y(e.target).is(c)&&r())})},10),s.failsafe=setTimeout(function(){s.mixing&&r()},a+400)}else{if(s.resizeContainer&&u.css("height",s.origHeight+"px"),!window.atob)return r(),0;g=p,setTimeout(function(){if(u.css(s.perspective),s.resizeContainer){for(var e={},t=0;t<2;t++){var o=0==t?s.prefix:"";e[o+"transition"]="height "+a+"ms ease-in-out",e.height=s.minHeight+"px"}u.css(e)}if(d.css(s.transition),p.length){for(e={},t=0;t<2;t++)e[(o=0==t?s.prefix:"")+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,e[o+"filter"]=s.blur+" "+s.grayscale,e.opacity=s.fade;g.css(e),u.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(e){(-1<e.originalEvent.propertyName.indexOf("transform")||-1<e.originalEvent.propertyName.indexOf("opacity"))&&(i.addClass(s.failClass),r())})}else s.mixing=!1},10)}}function b(o,t,e,i){function r(e,t){var e=isNaN(+e.attr(o))?e.attr(o).toLowerCase():+e.attr(o),t=isNaN(+t.attr(o))?t.attr(o).toLowerCase():+t.attr(o);return e<t?-1:t<e?1:0}function s(e){"asc"==t?n.prepend(e).prepend(" "):n.append(e).append(" ")}e.find(i.targetSelector).wrapAll('<div class="mix_sorter"/>');var n=e.find(".mix_sorter");if(i.origSort.length||n.find(i.targetSelector+":visible").each(function(){y(this).wrap("<s/>"),i.origSort.push(y(this).parent().html().replace(/\s+/g,"")),y(this).unwrap()}),n.empty(),"reset"==o)y.each(i.startOrder,function(){n.append(this).append(" ")});else if("default"==o)y.each(i.origOrder,function(){s(this)});else if("random"==o){if(!i.newOrder.length){for(var a=i.startOrder.slice(),l=a.length,c=l;c--;){var d=parseInt(Math.random()*l),u=a[c];a[c]=a[d],a[d]=u}i.newOrder=a}y.each(i.newOrder,function(){n.append(this).append(" ")})}else if("custom"==o)y.each(t,function(){s(this)});else{if(void 0===i.origOrder[0].attr(o))return console.log("No such attribute found. Terminating"),0;i.newOrder.length||(y.each(i.origOrder,function(){i.newOrder.push(y(this))}),i.newOrder.sort(r)),y.each(i.newOrder,function(){s(this)})}i.checkSort=[],n.find(i.targetSelector+":visible").each(function(e){var t=y(this);0==e&&t.attr("data-checksum","1"),t.wrap("<s/>"),i.checkSort.push(t.parent().html().replace(/\s+/g,"")),t.unwrap()}),e.find(i.targetSelector).unwrap()}function x(e){var t=(e=e.replace(/\s{2,}/g," ")).split(" ");return y.each(t,function(e){"all"==this&&(t[e]="mix_all")}),""==t[0]&&t.shift(),t}var o={init:function(a){return this.each(function(){var i={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};a&&y.extend(i,a),this.config=i,y.support.touch="ontouchend"in document,y.support.touch&&(i.isTouch=!0,i.resetDelay=350),i.container=y(this);var r=i.container,e,t;e:{for(var e=r[0],o=["Webkit","Moz","O","ms"],s=0;s<o.length;s++)if(o[s]+"Transition"in e.style){e=o[s];break e}e="transition"in e.style&&""}for(i.prefix=e,i.prefix=i.prefix?"-"+i.prefix.toLowerCase()+"-":"",r.find(i.targetSelector).each(function(){i.origOrder.push(y(this))}),i.sortOnLoad&&(y.isArray(i.sortOnLoad)?(e=i.sortOnLoad[0],t=i.sortOnLoad[1],y(i.sortSelector+"[data-sort="+i.sortOnLoad[0]+"][data-order="+i.sortOnLoad[1]+"]").addClass("active")):(y(i.sortSelector+"[data-sort="+i.sortOnLoad+"]").addClass("active"),e=i.sortOnLoad,i.sortOnLoad="desc"),b(e,t,r,i)),t=0;t<2;t++)e=0==t?i.prefix:"",i.transition[e+"transition"]="all "+i.transitionSpeed+"ms ease-in-out",i.perspective[e+"perspective"]=i.perspectiveDistance+"px",i.perspective[e+"perspective-origin"]=i.perspectiveOrigin;for(t=0;t<2;t++)e=0==t?i.prefix:"",i.clean[e+"transition"]="none";"list"==i.layoutMode?(r.addClass(i.listClass),i.origDisplay=i.targetDisplayList):(r.addClass(i.gridClass),i.origDisplay=i.targetDisplayGrid),i.origLayout=i.layoutMode,t=i.showOnLoad.split(" "),y.each(t,function(){y(i.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),r.find(i.targetSelector).addClass("mix_all"),"all"==t[0]&&(t[0]="mix_all",i.showOnLoad="mix_all");var n=y();y.each(t,function(){n=n.add(y("."+this))}),n.each(function(){var e=y(this);"list"==i.layoutMode?e.css("display",i.targetDisplayList):e.css("display",i.targetDisplayGrid),e.css(i.transition)}),setTimeout(function(){i.mixing=!0,n.css("opacity","1"),setTimeout(function(){var e;"list"==i.layoutMode?n.removeStyle(i.prefix+"transition, transition").css({display:i.targetDisplayList,opacity:1}):n.removeStyle(i.prefix+"transition, transition").css({display:i.targetDisplayGrid,opacity:1}),i.mixing=!1,"function"==typeof i.onMixLoad&&(i=(e=i.onMixLoad.call(this,i))||i)},i.transitionSpeed)},10),i.filter=i.showOnLoad,y(i.sortSelector).bind(i.buttonEvent,function(){if(!i.mixing){var e=y(this),t=e.attr("data-sort"),o=e.attr("data-order");if(e.hasClass("active")){if("random"!=t)return!1}else y(i.sortSelector).removeClass("active"),e.addClass("active");r.find(i.targetSelector).each(function(){i.startOrder.push(y(this))}),l(i.filter,t,o,r,i)}}),y(i.filterSelector).bind(i.buttonEvent,function(){var e,t;i.mixing||(e=y(this),0==i.multiFilter?(y(i.filterSelector).removeClass("active"),e.addClass("active"),i.filter=e.attr("data-filter"),y(i.filterSelector+'[data-filter="'+i.filter+'"]').addClass("active")):(t=e.attr("data-filter"),e.hasClass("active")?(e.removeClass("active"),i.filter=i.filter.replace(RegExp("(\\s|^)"+t),"")):(e.addClass("active"),i.filter=i.filter+" "+t)),l(i.filter,null,null,r,i))})})},toGrid:function(){return this.each(function(){var e=this.config;"grid"!=e.layoutMode&&(e.layoutMode="grid",l(e.filter,null,null,y(this),e))})},toList:function(){return this.each(function(){var e=this.config;"list"!=e.layoutMode&&(e.layoutMode="list",l(e.filter,null,null,y(this),e))})},filter:function(t){return this.each(function(){var e=this.config;e.mixing||(y(e.filterSelector).removeClass("active"),y(e.filterSelector+'[data-filter="'+t+'"]').addClass("active"),l(t,null,null,y(this),e))})},sort:function(r){return this.each(function(){var e=this.config,t=y(this),o,i;e.mixing||(y(e.sortSelector).removeClass("active"),y.isArray(r)?(o=r[0],i=r[1],y(e.sortSelector+'[data-sort="'+r[0]+'"][data-order="'+r[1]+'"]').addClass("active")):(y(e.sortSelector+'[data-sort="'+r+'"]').addClass("active"),o=r,i="desc"),t.find(e.targetSelector).each(function(){e.startOrder.push(y(this))}),l(e.filter,o,i,t,e))})},multimix:function(o){return this.each(function(){var e=this.config,t=y(this);multiOut={filter:e.filter,sort:null,order:"desc",layoutMode:e.layoutMode},y.extend(multiOut,o),e.mixing||(y(e.filterSelector).add(e.sortSelector).removeClass("active"),y(e.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),void 0!==multiOut.sort&&(y(e.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),t.find(e.targetSelector).each(function(){e.startOrder.push(y(this))})),e.layoutMode=multiOut.layoutMode,l(multiOut.filter,multiOut.sort,multiOut.order,t,e))})},remix:function(o){return this.each(function(){var t=this.config,e=y(this);t.origOrder=[],e.find(t.targetSelector).each(function(){var e=y(this);e.addClass("mix_all"),t.origOrder.push(e)}),t.mixing||void 0===o||(y(t.filterSelector).removeClass("active"),y(t.filterSelector+'[data-filter="'+o+'"]').addClass("active"),l(o,null,null,e,t))})}};y.fn.mixitup=function(e,t){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:o.init.apply(this,arguments)},y.fn.removeStyle=function(o){return this.each(function(){var e=y(this),t=(o=o.replace(/\s+/g,"")).split(",");y.each(t,function(){var o=RegExp(this.toString()+"[^;]+;?","g");e.attr("style",function(e,t){if(t)return t.replace(o,"")})})})}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(g){var w=!1,v=!1,y=0,u=2e3,b=0,e=["webkit","ms","moz","o"],h=window.requestAnimationFrame||!1,x=window.cancelAnimationFrame||!1;if(!h)for(var t in e){var t=e[t];if(h=window[t+"RequestAnimationFrame"]){x=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];break}}var S=window.MutationObserver||window.WebKitMutationObserver||!1,z={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:0<(o=(o=document.getElementsByTagName("script")).length?o[o.length-1].src.split("?")[0]:"").split("/").length?o.split("/").slice(0,-1).join("/")+"/":"",preventmultitouchscrolling:!0,disablemutationobserver:!1},a=!1,k=function(){if(a)return a;var e=document.createElement("DIV"),t=e.style,o=navigator.userAgent,i=navigator.platform,r={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document};r.isopera="opera"in window,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),r.isie="all"in document&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in t),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in document)||7==document.documentMode),r.isie8=r.isie&&"documentMode"in document&&8==document.documentMode,r.isie9=r.isie&&"performance"in window&&9==document.documentMode,r.isie10=r.isie&&"performance"in window&&10==document.documentMode,r.isie11="msRequestFullscreen"in e&&11<=document.documentMode,r.isieedge12=navigator.userAgent.match(/Edge\/12\./),r.isieedge="msOverflowStyle"in e,r.ismodernie=r.isie11||r.isieedge,r.isie9mobile=/iemobile.9/i.test(o),r.isie9mobile&&(r.isie9=!1),r.isie7mobile=!r.isie9mobile&&r.isie7&&/iemobile/i.test(o),r.ismozilla="MozAppearance"in t,r.iswebkit="WebkitAppearance"in t,r.ischrome="chrome"in window,r.ischrome38=r.ischrome&&"touchAction"in t,r.ischrome22=!r.ischrome38&&r.ischrome&&r.haspointerlock,r.ischrome26=!r.ischrome38&&r.ischrome&&"transition"in t,r.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,r.hasw3ctouch=!!window.PointerEvent&&(0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints),r.hasmstouch=!r.hasw3ctouch&&(window.MSPointerEvent||!1),r.ismac=/^mac$/i.test(i),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(i),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in document,r.isios8=r.isios&&"hidden"in document,r.isandroid=/android/i.test(o),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1,i=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(o=0;o<i.length;o++)if(void 0!==t[i[o]]){r.trstyle=i[o];break}r.hastransform=!!r.trstyle,r.hastransform&&(t[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(t[r.trstyle])),r.transitionstyle=!1,r.prefixstyle="",r.transitionend=!1;for(var i="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),s=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),n="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),o=0;o<i.length;o++)if(i[o]in t){r.transitionstyle=i[o],r.prefixstyle=s[o],r.transitionend=n[o];break}r.ischrome26&&(r.prefixstyle=s[1]),r.hastransition=r.transitionstyle;e:{for(o=["grab","-webkit-grab","-moz-grab"],(r.ischrome&&!r.ischrome38||r.isie)&&(o=[]),i=0;i<o.length;i++)if(s=o[i],t.cursor=s,t.cursor==s){t=s;break e}t="url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"}return r.cursorgrabvalue=t,r.hasmousecapture="setCapture"in e,r.hasMutationObserver=!1!==S,a=r},r=function(e,t){function o(){var e=m.doc.css(f.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function p(){var e=m.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function s(e,t,o){return t=e.css(t),e=parseFloat(t),isNaN(e)?(o=3==(e=c[t]||0)?o?m.win.outerHeight()-m.win.innerHeight():m.win.outerWidth()-m.win.innerWidth():1,m.isie8&&e&&(e+=1),o?e:0):e}function r(o,i,r,e){m._bind(o,i,function(e){var t={original:e=e||window.event,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!0}};return"mousewheel"==i?(e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX),e.wheelDeltaY&&(t.deltaY=-.025*e.wheelDeltaY),t.deltaY||t.deltaX||(t.deltaY=-.025*e.wheelDelta)):t.deltaY=e.detail,r.call(o,t)},e)}function i(e,t,o){var i,r;if(0==e.deltaMode?(i=-Math.floor(m.opt.mousescrollstep/54*e.deltaX),r=-Math.floor(m.opt.mousescrollstep/54*e.deltaY)):1==e.deltaMode&&(i=-Math.floor(e.deltaX*m.opt.mousescrollstep),r=-Math.floor(e.deltaY*m.opt.mousescrollstep)),t&&m.opt.oneaxismousemode&&0==i&&r&&(i=r,r=0,o&&(i<0?m.getScrollLeft()>=m.page.maxw:m.getScrollLeft()<=0)&&(r=i,i=0)),(i=m.isrtlmode?-i:i)&&(m.scrollmom&&m.scrollmom.stop(),m.lastdeltax+=i,m.debounced("mousewheelx",function(){var e=m.lastdeltax;m.lastdeltax=0,m.rail.drag||m.doScrollLeftBy(e)},15)),r){if(m.opt.nativeparentscrolling&&o&&!m.ispage&&!m.zoomactive)if(r<0){if(m.getScrollTop()>=m.page.maxh)return!0}else if(m.getScrollTop()<=0)return!0;m.scrollmom&&m.scrollmom.stop(),m.lastdeltay+=r,m.synched("mousewheely",function(){var e=m.lastdeltay;m.lastdeltay=0,m.rail.drag||m.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var m=this,n,t;if(this.version="3.6.8",this.name="nicescroll",this.me=t,this.opt={doc:g("body"),win:!1},g.extend(this.opt,z),this.opt.snapbackspeed=80,e)for(var n in m.opt)void 0!==e[n]&&(m.opt[n]=e[n]);for(m.opt.disablemutationobserver&&(S=!1),this.iddoc=(this.doc=m.opt.doc)&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test((m.opt.win||this.doc)[0].nodeName),this.haswrapper=!1!==m.opt.win,this.win=m.opt.win||(this.ispage?g(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?g(window):this.win,this.body=g("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=m.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode?"horizontal-tb"==(t=(n=this.win[0]==window?this.body:this.win).css("writing-mode")||n.css("-webkit-writing-mode")||n.css("-ms-writing-mode")||n.css("-moz-writing-mode"))||"lr-tb"==t||""==t?(this.isrtlmode="rtl"==n.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==t||"tb"==t||"tb-rl"==t||"rl-tb"==t,this.isvertical="vertical-rl"==t||"tb"==t||"tb-rl"==t):(this.isrtlmode=!0===this.opt.rtlmode,this.isvertical=!1),this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;this.id="ascrail"+u++,document.getElementById(this.id););this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=m.opt.overflowx,this.overflowy=m.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=k();var f=g.extend({},this.detected);this.ishwscroll=(this.canhwscroll=f.hastransform&&m.opt.hwacceleration)&&m.haswrapper,this.hasreversehr=!!this.isrtlmode&&(this.isvertical?!(f.iswebkit||f.isie||f.isie11):!(f.iswebkit||f.isie&&!f.isie10&&!f.isie11)),this.istouchcapable=!1,(f.cantouch||!f.hasw3ctouch&&!f.hasmstouch)&&(!f.cantouch||f.isios||f.isandroid||!f.iswebkit&&!f.ismozilla)||(this.istouchcapable=!0),m.opt.enablemouselockapi||(f.hasmousecapture=!1,f.haspointerlock=!1);var a=!(this.debounced=function(e,t,o){m&&(m.delaylist[e]||(t.call(m),m.delaylist[e]={h:h(function(){m.delaylist[e].fn.call(m),m.delaylist[e]=!1},o)}),m.delaylist[e].fn=t)});this.synched=function(e,t){return m.synclist[e]=t,a||(h(function(){if(m)for(var e in a=!1,m.synclist){var t=m.synclist[e];t&&t.call(m),m.synclist[e]=!1}}),a=!0),e},this.unsynched=function(e){m.synclist[e]&&(m.synclist[e]=!1)},this.css=function(e,t){for(var o in t)m.saved.css.push([e,o,e.css(o)]),e.css(o,t[o])},this.scrollTop=function(e){return void 0===e?m.getScrollTop():m.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?m.getScrollLeft():m.setScrollLeft(e)};var d=function(e,t,o,i,r,s,n){this.st=e,this.ed=t,this.spd=o,this.p1=i||0,this.p2=r||1,this.p3=s||0,this.p4=n||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},l;d.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e<0?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},f.hastranslate3d&&f.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){if(e=o())return 16==e.length?-e[13]:-e[5];if(m.timerscroll&&m.timerscroll.bz)return m.timerscroll.bz.getNow()}return m.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=o())return 16==e.length?-e[12]:-e[4];if(m.timerscroll&&m.timerscroll.bh)return m.timerscroll.bh.getNow()}return m.doc.translate.x},this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),t.niceevent=!0,e.dispatchEvent(t)},l=this.isrtlmode?1:-1,f.hastranslate3d&&m.opt.enabletranslate3d?(this.setScrollTop=function(e,t){m.doc.translate.y=e,m.doc.translate.ty=-1*e+"px",m.doc.css(f.trstyle,"translate3d("+m.doc.translate.tx+","+m.doc.translate.ty+",0px)"),t||m.notifyScrollEvent(m.win[0])},this.setScrollLeft=function(e,t){m.doc.translate.x=e,m.doc.translate.tx=e*l+"px",m.doc.css(f.trstyle,"translate3d("+m.doc.translate.tx+","+m.doc.translate.ty+",0px)"),t||m.notifyScrollEvent(m.win[0])}):(this.setScrollTop=function(e,t){m.doc.translate.y=e,m.doc.translate.ty=-1*e+"px",m.doc.css(f.trstyle,"translate("+m.doc.translate.tx+","+m.doc.translate.ty+")"),t||m.notifyScrollEvent(m.win[0])},this.setScrollLeft=function(e,t){m.doc.translate.x=e,m.doc.translate.tx=e*l+"px",m.doc.css(f.trstyle,"translate("+m.doc.translate.tx+","+m.doc.translate.ty+")"),t||m.notifyScrollEvent(m.win[0])})):(this.getScrollTop=function(){return m.docscroll.scrollTop()},this.setScrollTop=function(e){return setTimeout(function(){m&&m.docscroll.scrollTop(e)},1)},this.getScrollLeft=function(){return m.hasreversehr?m.detected.ismozilla?m.page.maxw-Math.abs(m.docscroll.scrollLeft()):m.page.maxw-m.docscroll.scrollLeft():m.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(m)return m.hasreversehr&&(e=m.detected.ismozilla?-(m.page.maxw-e):m.page.maxw-e),m.docscroll.scrollLeft(e)},1)}),this.getTarget=function(e){return e&&(e.target||e.srcElement)||!1},this.hasParent=function(e,t){if(!e)return!1;for(var o=e.target||e.srcElement||e||!1;o&&o.id!=t;)o=o.parentNode||!1;return!1!==o};var c={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(m.isfixed){var e=m.win.offset(),t=m.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}return e=m.win.offset(),m.viewport?(t=m.viewport.offset(),{top:e.top-t.top,left:e.left-t.left}):e},this.updateScrollBar=function(e){var t,o,i,r,t,o;m.ishwscroll?(m.rail.css({height:m.win.innerHeight()-(m.opt.railpadding.top+m.opt.railpadding.bottom)}),m.railh&&m.railh.css({width:m.win.innerWidth()-(m.opt.railpadding.left+m.opt.railpadding.right)})):(t=(r=m.getOffset()).top,o=r.left-(m.opt.railpadding.left+m.opt.railpadding.right),t+=s(m.win,"border-top-width",!0),o+=m.rail.align?m.win.outerWidth()-s(m.win,"border-right-width")-m.rail.width:s(m.win,"border-left-width"),(i=m.opt.railoffset)&&(i.top&&(t+=i.top),i.left&&(o+=i.left)),m.railslocked||m.rail.css({top:t,left:o,height:(e?e.h:m.win.innerHeight())-(m.opt.railpadding.top+m.opt.railpadding.bottom)}),m.zoom&&m.zoom.css({top:t+1,left:1==m.rail.align?o-20:o+m.rail.width+4}),m.railh&&!m.railslocked&&(t=r.top,o=r.left,(i=m.opt.railhoffset)&&(i.top&&(t+=i.top),i.left&&(o+=i.left)),e=m.railh.align?t+s(m.win,"border-top-width",!0)+m.win.innerHeight()-m.railh.height:t+s(m.win,"border-top-width",!0),o+=s(m.win,"border-left-width"),m.railh.css({top:e-(m.opt.railpadding.top+m.opt.railpadding.bottom),left:o,width:m.railh.width})))},this.doRailClick=function(e,t,o){var i;m.railslocked||(m.cancelEvent(e),t?(t=o?m.doScrollLeft:m.doScrollTop)(i=o?(e.pageX-m.railh.offset().left-m.cursorwidth/2)*m.scrollratio.x:(e.pageY-m.rail.offset().top-m.cursorheight/2)*m.scrollratio.y):(t=o?m.doScrollLeftBy:m.doScrollBy,i=o?m.scroll.x:m.scroll.y,e=o?e.pageX-m.railh.offset().left:e.pageY-m.rail.offset().top,o=o?m.view.w:m.view.h,t(e<=i?o:-o)))},m.hasanimationframe=h,m.hascancelanimationframe=x,m.hasanimationframe?m.hascancelanimationframe||(x=function(){m.cancelAnimationFrame=!0}):(h=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},x=clearTimeout),this.init=function(){if(m.saved.css=[],f.isie7mobile||f.isoperamini)return!0;f.hasmstouch&&m.css(m.ispage?g("html"):m.win,{_touchaction:"none"});var o=f.ismodernie||f.isie10?{"-ms-overflow-style":"none"}:{"overflow-y":"hidden"},e;if(m.zindex="auto",m.zindex=m.ispage||"auto"!=m.opt.zindex?m.opt.zindex:p()||"auto",!m.ispage&&"auto"!=m.zindex&&m.zindex>b&&(b=m.zindex),m.isie&&0==m.zindex&&"auto"==m.opt.zindex&&(m.zindex="auto"),!m.ispage||!f.cantouch&&!f.isieold&&!f.isie9mobile){var t=m.docscroll;m.ispage&&(t=m.haswrapper?m.win:m.doc),f.isie9mobile||m.css(t,o),m.ispage&&f.isie7&&("BODY"==m.doc[0].nodeName?m.css(g("html"),{"overflow-y":"hidden"}):"HTML"==m.doc[0].nodeName&&m.css(g("body"),o)),!f.isios||m.ispage||m.haswrapper||m.css(g("body"),{"-webkit-overflow-scrolling":"touch"});var i=g(document.createElement("div"));i.css({position:"relative",top:0,float:"right",width:m.opt.cursorwidth,height:0,"background-color":m.opt.cursorcolor,border:m.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":m.opt.cursorborderradius,"-moz-border-radius":m.opt.cursorborderradius,"border-radius":m.opt.cursorborderradius}),i.hborder=parseFloat(i.outerHeight()-i.innerHeight()),i.addClass("nicescroll-cursors"),m.cursor=i;var r=g(document.createElement("div"));r.attr("id",m.id),r.addClass("nicescroll-rails nicescroll-rails-vr");var s,n,a=["left","right","top","bottom"],l,c,d,u,h,r;for(l in a)n=a[l],(s=m.opt.railpadding[n])?r.css("padding-"+n,s+"px"):m.opt.railpadding[n]=0;r.append(i),r.width=Math.max(parseFloat(m.opt.cursorwidth),i.outerWidth()),r.css({width:r.width+"px",zIndex:m.zindex,background:m.opt.background,cursor:"default"}),r.visibility=!0,r.scrollable=!0,r.align="left"==m.opt.railalign?0:1,m.rail=r,i=m.rail.drag=!1,!m.opt.boxzoom||m.ispage||f.isieold||(i=document.createElement("div"),m.bind(i,"click",m.doZoom),m.bind(i,"mouseenter",function(){m.zoom.css("opacity",m.opt.cursoropacitymax)}),m.bind(i,"mouseleave",function(){m.zoom.css("opacity",m.opt.cursoropacitymin)}),m.zoom=g(i),m.zoom.css({cursor:"pointer",zIndex:m.zindex,backgroundImage:"url("+m.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),m.opt.dblclickzoom&&m.bind(m.win,"dblclick",m.doZoom),f.cantouch&&m.opt.gesturezoom&&(m.ongesturezoom=function(e){return 1.5<e.scale&&m.doZoomIn(e),e.scale<.8&&m.doZoomOut(e),m.cancelEvent(e)},m.bind(m.win,"gestureend",m.ongesturezoom))),m.railh=!1,m.opt.horizrailenabled&&(m.css(t,{overflowX:"hidden"}),(i=g(document.createElement("div"))).css({position:"absolute",top:0,height:m.opt.cursorwidth,width:0,backgroundColor:m.opt.cursorcolor,border:m.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":m.opt.cursorborderradius,"-moz-border-radius":m.opt.cursorborderradius,"border-radius":m.opt.cursorborderradius}),f.isieold&&i.css("overflow","hidden"),i.wborder=parseFloat(i.outerWidth()-i.innerWidth()),i.addClass("nicescroll-cursors"),m.cursorh=i,(c=g(document.createElement("div"))).attr("id",m.id+"-hr"),c.addClass("nicescroll-rails nicescroll-rails-hr"),c.height=Math.max(parseFloat(m.opt.cursorwidth),i.outerHeight()),c.css({height:c.height+"px",zIndex:m.zindex,background:m.opt.background}),c.append(i),c.visibility=!0,c.scrollable=!0,c.align="top"==m.opt.railvalign?0:1,m.railh=c,m.railh.drag=!1),m.ispage?(r.css({position:"fixed",top:0,height:"100%"}),r.align?r.css({right:0}):r.css({left:0}),m.body.append(r),m.railh&&(c.css({position:"fixed",left:0,width:"100%"}),c.align?c.css({bottom:0}):c.css({top:0}),m.body.append(c))):(m.ishwscroll?("static"==m.win.css("position")&&m.css(m.win,{position:"relative"}),t="HTML"==m.win[0].nodeName?m.body:m.win,g(t).scrollTop(0).scrollLeft(0),m.zoom&&(m.zoom.css({position:"absolute",top:1,right:0,"margin-right":r.width+4}),t.append(m.zoom)),r.css({position:"absolute",top:0}),r.align?r.css({right:0}):r.css({left:0}),t.append(r),c&&(c.css({position:"absolute",left:0,bottom:0}),c.align?c.css({bottom:0}):c.css({top:0}),t.append(c))):(m.isfixed="fixed"==m.win.css("position"),t=m.isfixed?"fixed":"absolute",m.isfixed||(m.viewport=m.getViewport(m.win[0])),m.viewport&&(m.body=m.viewport,0==/fixed|absolute/.test(m.viewport.css("position"))&&m.css(m.viewport,{position:"relative"})),r.css({position:t}),m.zoom&&m.zoom.css({position:t}),m.updateScrollBar(),m.body.append(r),m.zoom&&m.body.append(m.zoom),m.railh&&(c.css({position:t}),m.body.append(c))),f.isios&&m.css(m.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),f.isie&&m.opt.disableoutline&&m.win.attr("hideFocus","true"),f.iswebkit&&m.opt.disableoutline&&m.win.css("outline","none")),!1===m.opt.autohidemode?(m.autohidedom=!1,m.rail.css({opacity:m.opt.cursoropacitymax}),m.railh&&m.railh.css({opacity:m.opt.cursoropacitymax})):!0===m.opt.autohidemode||"leave"===m.opt.autohidemode?(m.autohidedom=g().add(m.rail),f.isie8&&(m.autohidedom=m.autohidedom.add(m.cursor)),m.railh&&(m.autohidedom=m.autohidedom.add(m.railh)),m.railh&&f.isie8&&(m.autohidedom=m.autohidedom.add(m.cursorh))):"scroll"==m.opt.autohidemode?(m.autohidedom=g().add(m.rail),m.railh&&(m.autohidedom=m.autohidedom.add(m.railh))):"cursor"==m.opt.autohidemode?(m.autohidedom=g().add(m.cursor),m.railh&&(m.autohidedom=m.autohidedom.add(m.cursorh))):"hidden"==m.opt.autohidemode&&(m.autohidedom=!1,m.hide(),m.railslocked=!1),f.isie9mobile?(m.scrollmom=new T(m),m.onmangotouch=function(){var e=m.getScrollTop(),t=m.getScrollLeft();if(e==m.scrollmom.lastscrolly&&t==m.scrollmom.lastscrollx)return!0;var o=e-m.mangotouch.sy,i=t-m.mangotouch.sx,r,s,n;0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2)))&&(r=o<0?-1:1,s=i<0?-1:1,n=+new Date,m.mangotouch.lazy&&clearTimeout(m.mangotouch.lazy),80<n-m.mangotouch.tm||m.mangotouch.dry!=r||m.mangotouch.drx!=s?(m.scrollmom.stop(),m.scrollmom.reset(t,e),m.mangotouch.sy=e,m.mangotouch.ly=e,m.mangotouch.sx=t,m.mangotouch.lx=t,m.mangotouch.dry=r,m.mangotouch.drx=s,m.mangotouch.tm=n):(m.scrollmom.stop(),m.scrollmom.update(m.mangotouch.sx-i,m.mangotouch.sy-o),m.mangotouch.tm=n,o=Math.max(Math.abs(m.mangotouch.ly-e),Math.abs(m.mangotouch.lx-t)),m.mangotouch.ly=e,m.mangotouch.lx=t,2<o&&(m.mangotouch.lazy=setTimeout(function(){m.mangotouch.lazy=!1,m.mangotouch.dry=0,m.mangotouch.drx=0,m.mangotouch.tm=0,m.scrollmom.doMomentum(30)},100))))},r=m.getScrollTop(),c=m.getScrollLeft(),m.mangotouch={sy:r,ly:r,dry:0,sx:c,lx:c,drx:0,lazy:!1,tm:0},m.bind(m.docscroll,"scroll",m.onmangotouch)):((f.cantouch||m.istouchcapable||m.opt.touchbehavior||f.hasmstouch)&&(m.scrollmom=new T(m),m.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(m.hasmoving=!1,!m.railslocked){var t,o,o,i,i,o;if(f.hasmstouch)for(t=e.target||!1;t;){if(0<(o=g(t).getNiceScroll()).length&&o[0].me==m.me)break;if(0<o.length)return!1;if("DIV"==t.nodeName&&t.id==m.id)break;t=t.parentNode||!1}if(m.cancelScroll(),(t=m.getTarget(e))&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return m.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),m.forcescreen&&((e={original:(o=e).original||e}).clientX=o.screenX,e.clientY=o.screenY),m.rail.drag={x:e.clientX,y:e.clientY,sx:m.scroll.x,sy:m.scroll.y,st:m.getScrollTop(),sl:m.getScrollLeft(),pt:2,dl:!1},m.ispage||!m.opt.directionlockdeadzone?m.rail.drag.dl="f":(o=g(window).width(),i=g(window).height(),i=Math.max(0,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-i),o=Math.max(0,Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)-o),m.rail.drag.ck=!m.rail.scrollable&&m.railh.scrollable?0<i&&"v":!(!m.rail.scrollable||m.railh.scrollable)&&(0<o&&"h"),m.rail.drag.ck||(m.rail.drag.dl="f")),m.opt.touchbehavior&&m.isiframe&&f.isie&&(o=m.win.position(),m.rail.drag.x+=o.left,m.rail.drag.y+=o.top),m.hasmoving=!1,m.lastmouseup=!1,m.scrollmom.reset(e.clientX,e.clientY),!f.cantouch&&!this.istouchcapable&&!e.pointerType){if(!t||!/INPUT|SELECT|TEXTAREA/i.test(t.nodeName))return!m.ispage&&f.hasmousecapture&&t.setCapture(),m.opt.touchbehavior?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(m.hasmoving)return!1;t._onclick.call(this,e)}),m.cancelEvent(e)):m.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(g(t).attr("type"))&&(pc={tg:t,click:!1},m.preventclick=pc)}}},m.ontouchend=function(e){return!m.rail.drag||(2==m.rail.drag.pt?(!e.pointerType||2==e.pointerType||"touch"==e.pointerType)&&(m.scrollmom.doMomentum(),m.rail.drag=!1,m.hasmoving&&(m.lastmouseup=!0,m.hideCursor(),f.hasmousecapture&&document.releaseCapture(),!f.cantouch)?m.cancelEvent(e):void 0):1==m.rail.drag.pt?m.onmouseup(e):void 0)},d=m.opt.touchbehavior&&m.isiframe&&!f.hasmousecapture,m.ontouchmove=function(e,t){if(!m.rail.drag||e.targetTouches&&m.opt.preventmultitouchscrolling&&1<e.targetTouches.length||e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2!=m.rail.drag.pt)return 1==m.rail.drag.pt?m.onmousemove(e):void 0;if(f.cantouch&&f.isios&&void 0===e.original)return!0;var o;m.hasmoving=!0,m.preventclick&&!m.preventclick.click&&(m.preventclick.click=m.preventclick.tg.onclick||!1,m.preventclick.tg.onclick=m.onpreventclick),"changedTouches"in(e=g.extend({original:e},e))&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),m.forcescreen&&((e={original:(o=e).original||e}).clientX=o.screenX,e.clientY=o.screenY);var i,o=i=0;d&&!t&&(o=-(i=m.win.position()).left,i=-i.top);var r=e.clientY+i;i=r-m.rail.drag.y;var s=e.clientX+o,n=s-m.rail.drag.x,a=m.rail.drag.st-i,l;if(m.ishwscroll&&m.opt.bouncescroll?a<0?a=Math.round(a/2):a>m.page.maxh&&(a=m.page.maxh+Math.round((a-m.page.maxh)/2)):(a<0&&(r=a=0),a>m.page.maxh&&(a=m.page.maxh,r=0)),m.railh&&m.railh.scrollable&&(l=m.isrtlmode?n-m.rail.drag.sl:m.rail.drag.sl-n,m.ishwscroll&&m.opt.bouncescroll?l<0?l=Math.round(l/2):l>m.page.maxw&&(l=m.page.maxw+Math.round((l-m.page.maxw)/2)):(l<0&&(s=l=0),l>m.page.maxw&&(l=m.page.maxw,s=0))),o=!1,m.rail.drag.dl)o=!0,"v"==m.rail.drag.dl?l=m.rail.drag.sl:"h"==m.rail.drag.dl&&(a=m.rail.drag.st);else{var i=Math.abs(i),n=Math.abs(n),t=m.opt.directionlockdeadzone;if("v"==m.rail.drag.ck){if(t<i&&n<=.3*i)return!(m.rail.drag=!1);t<n&&(m.rail.drag.dl="f",g("body").scrollTop(g("body").scrollTop()))}else if("h"==m.rail.drag.ck){if(t<n&&i<=.3*n)return!(m.rail.drag=!1);t<i&&(m.rail.drag.dl="f",g("body").scrollLeft(g("body").scrollLeft()))}}return m.synched("touchmove",function(){m.rail.drag&&2==m.rail.drag.pt&&(m.prepareTransition&&m.prepareTransition(0),m.rail.scrollable&&m.setScrollTop(a),m.scrollmom.update(s,r),m.railh&&m.railh.scrollable?(m.setScrollLeft(l),m.showCursor(a,l)):m.showCursor(a),f.isie10&&document.selection.clear())}),(o=(!f.ischrome||!m.istouchcapable)&&o)?m.cancelEvent(e):void 0}),m.onmousedown=function(e,t){if(!m.rail.drag||1==m.rail.drag.pt){if(m.railslocked)return m.cancelEvent(e);m.cancelScroll(),m.rail.drag={x:e.clientX,y:e.clientY,sx:m.scroll.x,sy:m.scroll.y,pt:1,hr:!!t};var t=m.getTarget(e);return!m.ispage&&f.hasmousecapture&&t.setCapture(),m.isiframe&&!f.hasmousecapture&&(m.saved.csspointerevents=m.doc.css("pointer-events"),m.css(m.doc,{"pointer-events":"none"})),m.hasmoving=!1,m.cancelEvent(e)}},m.onmouseup=function(e){if(m.rail.drag)return 1!=m.rail.drag.pt||(f.hasmousecapture&&document.releaseCapture(),m.isiframe&&!f.hasmousecapture&&m.doc.css("pointer-events",m.saved.csspointerevents),m.rail.drag=!1,m.hasmoving&&m.triggerScrollEnd(),m.cancelEvent(e))},m.onmousemove=function(e){var t;if(m.rail.drag){if(1==m.rail.drag.pt)return f.ischrome&&0==e.which?m.onmouseup(e):(m.cursorfreezed=!0,m.hasmoving=!0,m.rail.drag.hr?(m.scroll.x=m.rail.drag.sx+(e.clientX-m.rail.drag.x),m.scroll.x<0&&(m.scroll.x=0),t=m.scrollvaluemaxw,m.scroll.x>t&&(m.scroll.x=t)):(m.scroll.y=m.rail.drag.sy+(e.clientY-m.rail.drag.y),m.scroll.y<0&&(m.scroll.y=0),t=m.scrollvaluemax,m.scroll.y>t&&(m.scroll.y=t)),m.synched("mousemove",function(){m.rail.drag&&1==m.rail.drag.pt&&(m.showCursor(),m.rail.drag.hr?m.hasreversehr?m.doScrollLeft(m.scrollvaluemaxw-Math.round(m.scroll.x*m.scrollratio.x),m.opt.cursordragspeed):m.doScrollLeft(Math.round(m.scroll.x*m.scrollratio.x),m.opt.cursordragspeed):m.doScrollTop(Math.round(m.scroll.y*m.scrollratio.y),m.opt.cursordragspeed))}),m.cancelEvent(e))}else m.checkarea=0},f.cantouch||m.opt.touchbehavior?(m.onpreventclick=function(e){if(m.preventclick)return m.preventclick.tg.onclick=m.preventclick.click,m.preventclick=!1,m.cancelEvent(e)},m.bind(m.win,"mousedown",m.ontouchstart),m.onclick=!f.isios&&function(e){return!m.lastmouseup||(m.lastmouseup=!1,m.cancelEvent(e))},m.opt.grabcursorenabled&&f.cursorgrabvalue&&(m.css(m.ispage?m.doc:m.win,{cursor:f.cursorgrabvalue}),m.css(m.rail,{cursor:f.cursorgrabvalue}))):(u=function(e){var t;m.selectiondrag&&(e&&((t=m.win.outerHeight())<=(e=0<(e=e.pageY-m.selectiondrag.top)&&e<t?0:e)&&(e-=t),m.selectiondrag.df=e),0!=m.selectiondrag.df&&(m.doScrollBy(2*-Math.floor(m.selectiondrag.df/6)),m.debounced("doselectionscroll",function(){u()},50)))},m.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},m.onselectionstart=function(e){m.ispage||(m.selectiondrag=m.win.offset())},m.onselectionend=function(e){m.selectiondrag=!1},m.onselectiondrag=function(e){m.selectiondrag&&m.hasTextSelected()&&m.debounced("selectionscroll",function(){u(e)},250)}),f.hasw3ctouch?(m.css(m.rail,{"touch-action":"none"}),m.css(m.cursor,{"touch-action":"none"}),m.bind(m.win,"pointerdown",m.ontouchstart),m.bind(document,"pointerup",m.ontouchend),m.bind(document,"pointermove",m.ontouchmove)):f.hasmstouch?(m.css(m.rail,{"-ms-touch-action":"none"}),m.css(m.cursor,{"-ms-touch-action":"none"}),m.bind(m.win,"MSPointerDown",m.ontouchstart),m.bind(document,"MSPointerUp",m.ontouchend),m.bind(document,"MSPointerMove",m.ontouchmove),m.bind(m.cursor,"MSGestureHold",function(e){e.preventDefault()}),m.bind(m.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(m.bind(m.win,"touchstart",m.ontouchstart),m.bind(document,"touchend",m.ontouchend),m.bind(document,"touchcancel",m.ontouchend),m.bind(document,"touchmove",m.ontouchmove)),!m.opt.cursordragontouch&&(f.cantouch||m.opt.touchbehavior)||(m.rail.css({cursor:"default"}),m.railh&&m.railh.css({cursor:"default"}),m.jqbind(m.rail,"mouseenter",function(){return!(!m.ispage&&!m.win.is(":visible"))&&(m.canshowonmouseevent&&m.showCursor(),void(m.rail.active=!0))}),m.jqbind(m.rail,"mouseleave",function(){m.rail.active=!1,m.rail.drag||m.hideCursor()}),m.opt.sensitiverail&&(m.bind(m.rail,"click",function(e){m.doRailClick(e,!1,!1)}),m.bind(m.rail,"dblclick",function(e){m.doRailClick(e,!0,!1)}),m.bind(m.cursor,"click",function(e){m.cancelEvent(e)}),m.bind(m.cursor,"dblclick",function(e){m.cancelEvent(e)})),m.railh&&(m.jqbind(m.railh,"mouseenter",function(){return!(!m.ispage&&!m.win.is(":visible"))&&(m.canshowonmouseevent&&m.showCursor(),void(m.rail.active=!0))}),m.jqbind(m.railh,"mouseleave",function(){m.rail.active=!1,m.rail.drag||m.hideCursor()}),m.opt.sensitiverail&&(m.bind(m.railh,"click",function(e){m.doRailClick(e,!1,!0)}),m.bind(m.railh,"dblclick",function(e){m.doRailClick(e,!0,!0)}),m.bind(m.cursorh,"click",function(e){m.cancelEvent(e)}),m.bind(m.cursorh,"dblclick",function(e){m.cancelEvent(e)})))),f.cantouch||m.opt.touchbehavior?(m.bind(f.hasmousecapture?m.win:document,"mouseup",m.ontouchend),m.bind(document,"mousemove",m.ontouchmove),m.onclick&&m.bind(document,"click",m.onclick),m.opt.cursordragontouch?(m.bind(m.cursor,"mousedown",m.onmousedown),m.bind(m.cursor,"mouseup",m.onmouseup),m.cursorh&&m.bind(m.cursorh,"mousedown",function(e){m.onmousedown(e,!0)}),m.cursorh&&m.bind(m.cursorh,"mouseup",m.onmouseup)):(m.bind(m.rail,"mousedown",function(e){e.preventDefault()}),m.railh&&m.bind(m.railh,"mousedown",function(e){e.preventDefault()}))):(m.bind(f.hasmousecapture?m.win:document,"mouseup",m.onmouseup),m.bind(document,"mousemove",m.onmousemove),m.onclick&&m.bind(document,"click",m.onclick),m.bind(m.cursor,"mousedown",m.onmousedown),m.bind(m.cursor,"mouseup",m.onmouseup),m.railh&&(m.bind(m.cursorh,"mousedown",function(e){m.onmousedown(e,!0)}),m.bind(m.cursorh,"mouseup",m.onmouseup)),!m.ispage&&m.opt.enablescrollonselection&&(m.bind(m.win[0],"mousedown",m.onselectionstart),m.bind(document,"mouseup",m.onselectionend),m.bind(m.cursor,"mouseup",m.onselectionend),m.cursorh&&m.bind(m.cursorh,"mouseup",m.onselectionend),m.bind(document,"mousemove",m.onselectiondrag)),m.zoom&&(m.jqbind(m.zoom,"mouseenter",function(){m.canshowonmouseevent&&m.showCursor(),m.rail.active=!0}),m.jqbind(m.zoom,"mouseleave",function(){m.rail.active=!1,m.rail.drag||m.hideCursor()}))),m.opt.enablemousewheel&&(m.isiframe||m.mousewheel(f.isie&&m.ispage?document:m.win,m.onmousewheel),m.mousewheel(m.rail,m.onmousewheel),m.railh&&m.mousewheel(m.railh,m.onmousewheelhr)),m.ispage||f.cantouch||/HTML|^BODY/.test(m.win[0].nodeName)||(m.win.attr("tabindex")||m.win.attr({tabindex:y++}),m.jqbind(m.win,"focus",function(e){w=m.getTarget(e).id||!0,m.hasfocus=!0,m.canshowonmouseevent&&m.noticeCursor()}),m.jqbind(m.win,"blur",function(e){w=!1,m.hasfocus=!1}),m.jqbind(m.win,"mouseenter",function(e){v=m.getTarget(e).id||!0,m.hasmousefocus=!0,m.canshowonmouseevent&&m.noticeCursor()}),m.jqbind(m.win,"mouseleave",function(){v=!1,m.hasmousefocus=!1,m.rail.drag||m.hideCursor()}))),m.onkeypress=function(e){if(m.railslocked&&0==m.page.maxh)return!0;e=e||window.e;var t=m.getTarget(e);if(t&&/INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName)&&(!t.getAttribute("type")&&!t.type||!/submit|button|cancel/i.tp)||g(t).attr("contenteditable"))return!0;if(m.hasfocus||m.hasmousefocus&&!w||m.ispage&&!w&&!v){if(t=e.keyCode,m.railslocked&&27!=t)return m.cancelEvent(e);var o=e.ctrlKey||!1,i=e.shiftKey||!1,r=!1;switch(t){case 38:case 63233:m.doScrollBy(72),r=!0;break;case 40:case 63235:m.doScrollBy(-72),r=!0;break;case 37:case 63232:m.railh&&(o?m.doScrollLeft(0):m.doScrollLeftBy(72),r=!0);break;case 39:case 63234:m.railh&&(o?m.doScrollLeft(m.page.maxw):m.doScrollLeftBy(-72),r=!0);break;case 33:case 63276:m.doScrollBy(m.view.h),r=!0;break;case 34:case 63277:m.doScrollBy(-m.view.h),r=!0;break;case 36:case 63273:m.railh&&o?m.doScrollPos(0,0):m.doScrollTo(0),r=!0;break;case 35:case 63275:m.railh&&o?m.doScrollPos(m.page.maxw,m.page.maxh):m.doScrollTo(m.page.maxh),r=!0;break;case 32:m.opt.spacebarenabled&&(i?m.doScrollBy(m.view.h):m.doScrollBy(-m.view.h),r=!0);break;case 27:m.zoomactive&&(m.doZoom(),r=!0)}return r?m.cancelEvent(e):void 0}},m.opt.enablekeyboard&&m.bind(document,f.isopera&&!f.isopera12?"keypress":"keydown",m.onkeypress),m.bind(document,"keydown",function(e){e.ctrlKey&&(m.wheelprevented=!0)}),m.bind(document,"keyup",function(e){e.ctrlKey||(m.wheelprevented=!1)}),m.bind(window,"blur",function(e){m.wheelprevented=!1}),m.bind(window,"resize",m.lazyResize),m.bind(window,"orientationchange",m.lazyResize),m.bind(window,"load",m.lazyResize),!f.ischrome||m.ispage||m.haswrapper||(h=m.win.attr("style"),r=parseFloat(m.win.css("width"))+1,m.win.css("width",r),m.synched("chromefix",function(){m.win.attr("style",h)})),m.onAttributeChange=function(e){m.lazyResize(m.isieold?250:30)},m.isie11||!1===S||(m.observerbody=new S(function(e){if(e.forEach(function(e){if("attributes"==e.type)return g("body").hasClass("modal-open")&&g("body").hasClass("modal-dialog")&&!g.contains(g(".modal-dialog")[0],m.doc[0])?m.hide():m.show()}),document.body.scrollHeight!=m.page.maxh)return m.lazyResize(30)}),m.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),m.ispage||m.haswrapper||(!1!==S?(m.observer=new S(function(e){e.forEach(m.onAttributeChange)}),m.observer.observe(m.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),m.observerremover=new S(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(m&&e.removedNodes[t]==m.win[0])return m.remove()})}),m.observerremover.observe(m.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(m.bind(m.win,f.isie&&!f.isie9?"propertychange":"DOMAttrModified",m.onAttributeChange),f.isie9&&m.win[0].attachEvent("onpropertychange",m.onAttributeChange),m.bind(m.win,"DOMNodeRemoved",function(e){e.target==m.win[0]&&m.remove()}))),!m.ispage&&m.opt.boxzoom&&m.bind(window,"resize",m.resizeZoom),m.istextarea&&(m.bind(m.win,"keydown",m.lazyResize),m.bind(m.win,"mouseup",m.lazyResize)),m.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(e=function(){var t,e;m.iframexd=!1;try{t="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(e){t=!(m.iframexd=!0)}if(m.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;m.forcescreen=!0,m.isiframe&&(m.iframe={doc:g(t),html:m.doc.contents().find("html")[0],body:m.doc.contents().find("body")[0]},m.getContentSize=function(){return{w:Math.max(m.iframe.html.scrollWidth,m.iframe.body.scrollWidth),h:Math.max(m.iframe.html.scrollHeight,m.iframe.body.scrollHeight)}},m.docscroll=g(m.iframe.body)),f.isios||!m.opt.iframeautoresize||m.isiframe||(m.win.scrollTop(0),m.doc.height(""),e=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight),m.doc.height(e)),m.lazyResize(30),f.isie7&&m.css(g(m.iframe.html),o),m.css(g(m.iframe.body),o),f.isios&&m.haswrapper&&m.css(g(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?m.bind(this.contentWindow,"scroll",m.onscroll):m.bind(t,"scroll",m.onscroll),m.opt.enablemousewheel&&m.mousewheel(t,m.onmousewheel),m.opt.enablekeyboard&&m.bind(t,f.isopera?"keypress":"keydown",m.onkeypress),(f.cantouch||m.opt.touchbehavior)&&(m.bind(t,"mousedown",m.ontouchstart),m.bind(t,"mousemove",function(e){return m.ontouchmove(e,!0)}),m.opt.grabcursorenabled&&f.cursorgrabvalue&&m.css(g(t.body),{cursor:f.cursorgrabvalue})),m.bind(t,"mouseup",m.ontouchend),m.zoom&&(m.opt.dblclickzoom&&m.bind(t,"dblclick",m.doZoom),m.ongesturezoom&&m.bind(t,"gestureend",m.ongesturezoom))},this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){e.call(m.doc[0],!1)},500),m.bind(this.doc,"load",e))},this.showCursor=function(e,t){var t;m.cursortimeout&&(clearTimeout(m.cursortimeout),m.cursortimeout=0),m.rail&&(m.autohidedom&&(m.autohidedom.stop().css({opacity:m.opt.cursoropacitymax}),m.cursoractive=!0),m.rail.drag&&1==m.rail.drag.pt||(void 0!==e&&!1!==e&&(m.scroll.y=Math.round(+e/m.scrollratio.y)),void 0!==t&&(m.scroll.x=Math.round(+t/m.scrollratio.x))),m.cursor.css({height:m.cursorheight,top:m.scroll.y}),m.cursorh&&(t=m.hasreversehr?m.scrollvaluemaxw-m.scroll.x:m.scroll.x,!m.rail.align&&m.rail.visibility?m.cursorh.css({width:m.cursorwidth,left:t+m.rail.width}):m.cursorh.css({width:m.cursorwidth,left:t}),m.cursoractive=!0),m.zoom&&m.zoom.stop().css({opacity:m.opt.cursoropacitymax}))},this.hideCursor=function(e){m.cursortimeout||!m.rail||!m.autohidedom||m.hasmousefocus&&"leave"==m.opt.autohidemode||(m.cursortimeout=setTimeout(function(){m.rail.active&&m.showonmouseevent||(m.autohidedom.stop().animate({opacity:m.opt.cursoropacitymin}),m.zoom&&m.zoom.stop().animate({opacity:m.opt.cursoropacitymin}),m.cursoractive=!1),m.cursortimeout=0},e||m.opt.hidecursordelay))},this.noticeCursor=function(e,t,o){m.showCursor(t,o),m.rail.active||m.hideCursor(e)},this.getContentSize=m.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:m.haswrapper?function(){return{w:m.doc.outerWidth()+parseInt(m.win.css("paddingLeft"))+parseInt(m.win.css("paddingRight")),h:m.doc.outerHeight()+parseInt(m.win.css("paddingTop"))+parseInt(m.win.css("paddingBottom"))}}:function(){return{w:m.docscroll[0].scrollWidth,h:m.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!m||!m.win)return!1;if(!m.haswrapper&&!m.ispage){if("none"==m.win.css("display"))return m.visibility&&m.hideRail().hideRailHr(),!1;m.hidden||m.visibility||m.showRail().showRailHr()}var o=m.page.maxh,i=m.page.maxw,r=m.view.h,s=m.view.w;if(m.view={w:m.ispage?m.win.width():parseInt(m.win[0].clientWidth),h:m.ispage?m.win.height():parseInt(m.win[0].clientHeight)},m.page=t||m.getContentSize(),m.page.maxh=Math.max(0,m.page.h-m.view.h),m.page.maxw=Math.max(0,m.page.w-m.view.w),m.page.maxh==o&&m.page.maxw==i&&m.view.w==s&&m.view.h==r){if(m.ispage)return m;if(o=m.win.offset(),m.lastposition&&((i=m.lastposition).top==o.top&&i.left==o.left))return m;m.lastposition=o}return 0==m.page.maxh?(m.hideRail(),m.scrollvaluemax=0,m.scroll.y=0,m.scrollratio.y=0,m.cursorheight=0,m.setScrollTop(0),m.rail&&(m.rail.scrollable=!1)):(m.page.maxh-=m.opt.railpadding.top+m.opt.railpadding.bottom,m.rail.scrollable=!0),0==m.page.maxw?(m.hideRailHr(),m.scrollvaluemaxw=0,m.scroll.x=0,m.scrollratio.x=0,m.cursorwidth=0,m.setScrollLeft(0),m.railh&&(m.railh.scrollable=!1)):(m.page.maxw-=m.opt.railpadding.left+m.opt.railpadding.right,m.railh&&(m.railh.scrollable=m.opt.horizrailenabled)),m.railslocked=m.locked||0==m.page.maxh&&0==m.page.maxw,m.railslocked?(m.ispage||m.updateScrollBar(m.view),!1):(m.hidden||m.visibility?!m.railh||m.hidden||m.railh.visibility||m.showRailHr():m.showRail().showRailHr(),m.istextarea&&m.win.css("resize")&&"none"!=m.win.css("resize")&&(m.view.h-=20),m.cursorheight=Math.min(m.view.h,Math.round(m.view.h/m.page.h*m.view.h)),m.cursorheight=m.opt.cursorfixedheight||Math.max(m.opt.cursorminheight,m.cursorheight),m.cursorwidth=Math.min(m.view.w,Math.round(m.view.w/m.page.w*m.view.w)),m.cursorwidth=m.opt.cursorfixedheight||Math.max(m.opt.cursorminheight,m.cursorwidth),m.scrollvaluemax=m.view.h-m.cursorheight-m.cursor.hborder-(m.opt.railpadding.top+m.opt.railpadding.bottom),m.railh&&(m.railh.width=0<m.page.maxh?m.view.w-m.rail.width:m.view.w,m.scrollvaluemaxw=m.railh.width-m.cursorwidth-m.cursorh.wborder-(m.opt.railpadding.left+m.opt.railpadding.right)),m.ispage||m.updateScrollBar(m.view),m.scrollratio={x:m.page.maxw/m.scrollvaluemaxw,y:m.page.maxh/m.scrollvaluemax},m.getScrollTop()>m.page.maxh?m.doScrollTop(m.page.maxh):(m.scroll.y=Math.round(m.getScrollTop()*(1/m.scrollratio.y)),m.scroll.x=Math.round(m.getScrollLeft()*(1/m.scrollratio.x)),m.cursoractive&&m.noticeCursor()),m.scroll.y&&0==m.getScrollTop()&&m.doScrollTo(Math.floor(m.scroll.y*m.scrollratio.y)),m)},this.resize=m.onResize,this.hlazyresize=0,this.lazyResize=function(e){return m.haswrapper||m.hide(),m.hlazyresize&&clearTimeout(m.hlazyresize),m.hlazyresize=setTimeout(function(){m&&m.show().resize()},240),m},this.jqbind=function(e,t,o){m.events.push({e:e,n:t,f:o,q:!0}),g(e).bind(t,o)},this.mousewheel=function(e,t,o){var i;e="jquery"in e?e[0]:e,"onwheel"in document.createElement("div")?m._bind(e,"wheel",t,o||!1):(r(e,i=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",t,o||!1),"DOMMouseScroll"==i&&r(e,"MozMousePixelScroll",t,o||!1))},f.haseventlistener?(this.bind=function(e,t,o,i){m._bind("jquery"in e?e[0]:e,t,o,i||!1)},this._bind=function(e,t,o,i){m.events.push({e:e,n:t,f:o,b:i,q:!1}),e.addEventListener(t,o,i||!1)},this.cancelEvent=function(e){return e&&((e=e.original||e).cancelable&&e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation()),!1},this.stopPropagation=function(e){return e&&(e=e.original||e).stopPropagation(),!1},this._unbind=function(e,t,o,i){e.removeEventListener(t,o,i)}):(this.bind=function(e,t,o,i){var r="jquery"in e?e[0]:e;m._bind(r,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==o.call(r,e)&&!1!==i||m.cancelEvent(e)})},this._bind=function(e,t,o,i){m.events.push({e:e,n:t,f:o,b:i,q:!1}),e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o},this.cancelEvent=function(e){return!!(e=window.event||!1)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1)},this.stopPropagation=function(e){return!!(e=window.event||!1)&&!(e.cancelBubble=!0)},this._unbind=function(e,t,o,i){e.detachEvent?e.detachEvent("on"+t,o):e["on"+t]=!1}),this.unbindAll=function(){for(var e=0;e<m.events.length;e++){var t=m.events[e];t.q?t.e.unbind(t.n,t.f):m._unbind(t.e,t.n,t.f,t.b)}},this.showRail=function(){return 0==m.page.maxh||!m.ispage&&"none"==m.win.css("display")||(m.visibility=!0,m.rail.visibility=!0,m.rail.css("display","block")),m},this.showRailHr=function(){return m.railh&&(0==m.page.maxw||!m.ispage&&"none"==m.win.css("display")||(m.railh.visibility=!0,m.railh.css("display","block"))),m},this.hideRail=function(){return m.visibility=!1,m.rail.visibility=!1,m.rail.css("display","none"),m},this.hideRailHr=function(){return m.railh&&(m.railh.visibility=!1,m.railh.css("display","none")),m},this.show=function(){return m.hidden=!1,m.railslocked=!1,m.showRail().showRailHr()},this.hide=function(){return m.hidden=!0,m.railslocked=!0,m.hideRail().hideRailHr()},this.toggle=function(){return m.hidden?m.show():m.hide()},this.remove=function(){for(var e in m.stop(),m.cursortimeout&&clearTimeout(m.cursortimeout),m.delaylist)m.delaylist[e]&&x(m.delaylist[e].h);for(m.doZoomOut(),m.unbindAll(),f.isie9&&m.win[0].detachEvent("onpropertychange",m.onAttributeChange),!1!==m.observer&&m.observer.disconnect(),!1!==m.observerremover&&m.observerremover.disconnect(),!1!==m.observerbody&&m.observerbody.disconnect(),m.events=null,m.cursor&&m.cursor.remove(),m.cursorh&&m.cursorh.remove(),m.rail&&m.rail.remove(),m.railh&&m.railh.remove(),m.zoom&&m.zoom.remove(),e=0;e<m.saved.css.length;e++){var t=m.saved.css[e];t[0].css(t[1],void 0===t[2]?"":t[2])}m.saved=!1,m.me.data("__nicescroll","");var o=g.nicescroll,i;for(i in o.each(function(e){if(this&&this.id===m.id){delete o[e];for(var t=++e;t<o.length;t++,e++)o[e]=o[t];o.length--,o.length&&delete o[o.length]}}),m)m[i]=null,delete m[i];m=null},this.scrollstart=function(e){return this.onscrollstart=e,m},this.scrollend=function(e){return this.onscrollend=e,m},this.scrollcancel=function(e){return this.onscrollcancel=e,m},this.zoomin=function(e){return this.onzoomin=e,m},this.zoomout=function(e){return this.onzoomout=e,m},this.isScrollable=function(e){if("OPTION"==(e=e.target||e).nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var t,t=(t=g(e)).css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(t))return e.clientHeight!=e.scrollHeight;e=e.parentNode||!1}return!1},this.getViewport=function(e){for(e=!(!e||!e.parentNode)&&e.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var t=g(e);if(/fixed|absolute/.test(t.css("position")))return t;var o=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(o)&&e.clientHeight!=e.scrollHeight||0<t.getNiceScroll().length)return t;e=e.parentNode||!1}return!1},this.triggerScrollEnd=function(){var e,t;m.onscrollend&&(e=m.getScrollLeft(),t=m.getScrollTop(),m.onscrollend.call(m,{type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}}))},this.onmousewheel=function(e){if(!m.wheelprevented){if(m.railslocked)return m.debounced("checkunlock",m.resize,250),!0;if(m.rail.drag)return m.cancelEvent(e);if("auto"==m.opt.oneaxismousemode&&0!=e.deltaX&&(m.opt.oneaxismousemode=!1),m.opt.oneaxismousemode&&0==e.deltaX&&!m.rail.scrollable)return!m.railh||!m.railh.scrollable||m.onmousewheelhr(e);var t=+new Date,o=!1;return(m.opt.preservenativescrolling&&m.checkarea+600<t&&(m.nativescrollingarea=m.isScrollable(e),o=!0),m.checkarea=t,m.nativescrollingarea)?!0:((e=i(e,!1,o))&&(m.checkarea=0),e)}},this.onmousewheelhr=function(e){if(!m.wheelprevented){if(m.railslocked||!m.railh.scrollable)return!0;if(m.rail.drag)return m.cancelEvent(e);var t=+new Date,o=!1;return m.opt.preservenativescrolling&&m.checkarea+600<t&&(m.nativescrollingarea=m.isScrollable(e),o=!0),m.checkarea=t,!!m.nativescrollingarea||(m.railslocked?m.cancelEvent(e):i(e,!0,o))}},this.stop=function(){return m.cancelScroll(),m.scrollmon&&m.scrollmon.stop(),m.cursorfreezed=!1,m.scroll.y=Math.round(m.getScrollTop()*(1/m.scrollratio.y)),m.noticeCursor(),m},this.getTransitionSpeed=function(e){return 20<(e=Math.min(Math.round(10*m.opt.scrollspeed),Math.round(e/20*m.opt.scrollspeed)))?e:0},m.opt.smoothscroll?m.ishwscroll&&f.hastransition&&m.opt.usetransition&&m.opt.smoothscroll?(this.prepareTransition=function(e,t){var t=t?20<e?e:0:m.getTransitionSpeed(e),e=t?f.prefixstyle+"transform "+t+"ms ease-out":"";return m.lasttransitionstyle&&m.lasttransitionstyle==e||(m.lasttransitionstyle=e,m.doc.css(f.transitionstyle,e)),t},this.doScrollLeft=function(e,t){var o=m.scrollrunning?m.newscrolly:m.getScrollTop();m.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=m.scrollrunning?m.newscrollx:m.getScrollLeft();m.doScrollPos(o,e,t)},this.doScrollPos=function(i,r,e){var t=m.getScrollTop(),o=m.getScrollLeft();return((m.newscrolly-t)*(r-t)<0||(m.newscrollx-o)*(i-o)<0)&&m.cancelScroll(),0==m.opt.bouncescroll&&(r<0?r=0:r>m.page.maxh&&(r=m.page.maxh),i<0?i=0:i>m.page.maxw&&(i=m.page.maxw)),(!m.scrollrunning||i!=m.newscrollx||r!=m.newscrolly)&&(m.newscrolly=r,m.newscrollx=i,m.newscrollspeed=e||!1,!m.timer&&void(m.timer=setTimeout(function(){var e=m.getScrollTop(),t=m.getScrollLeft(),o=Math.round(Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2))),o=m.newscrollspeed&&1<m.newscrollspeed?m.newscrollspeed:m.getTransitionSpeed(o);m.newscrollspeed&&m.newscrollspeed<=1&&(o*=m.newscrollspeed),m.prepareTransition(o,!0),m.timerscroll&&m.timerscroll.tm&&clearInterval(m.timerscroll.tm),0<o&&(!m.scrollrunning&&m.onscrollstart&&m.onscrollstart.call(m,{type:"scrollstart",current:{x:t,y:e},request:{x:i,y:r},end:{x:m.newscrollx,y:m.newscrolly},speed:o}),f.transitionend?m.scrollendtrapped||(m.scrollendtrapped=!0,m.bind(m.doc,f.transitionend,m.onScrollTransitionEnd,!1)):(m.scrollendtrapped&&clearTimeout(m.scrollendtrapped),m.scrollendtrapped=setTimeout(m.onScrollTransitionEnd,o)),m.timerscroll={bz:new d(e,m.newscrolly,o,0,0,.58,1),bh:new d(t,m.newscrollx,o,0,0,.58,1)},m.cursorfreezed||(m.timerscroll.tm=setInterval(function(){m.showCursor(m.getScrollTop(),m.getScrollLeft())},60))),m.synched("doScroll-set",function(){m.timer=0,m.scrollendtrapped&&(m.scrollrunning=!0),m.setScrollTop(m.newscrolly),m.setScrollLeft(m.newscrollx),m.scrollendtrapped||m.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!m.scrollendtrapped)return!0;var e=m.getScrollTop(),t=m.getScrollLeft();return m.scrollrunning=!1,f.transitionend||clearTimeout(f.transitionend),m.scrollendtrapped=!1,m._unbind(m.doc[0],f.transitionend,m.onScrollTransitionEnd),m.prepareTransition(0),m.setScrollTop(e),m.railh&&m.setScrollLeft(t),m.timerscroll&&m.timerscroll.tm&&clearInterval(m.timerscroll.tm),m.timerscroll=!1,m.cursorfreezed=!1,m.showCursor(e,t),m},this.onScrollTransitionEnd=function(){m.scrollendtrapped&&m._unbind(m.doc[0],f.transitionend,m.onScrollTransitionEnd),m.scrollendtrapped=!1,m.prepareTransition(0),m.timerscroll&&m.timerscroll.tm&&clearInterval(m.timerscroll.tm),m.timerscroll=!1;var e=m.getScrollTop(),t=m.getScrollLeft();if(m.setScrollTop(e),m.railh&&m.setScrollLeft(t),m.noticeCursor(!1,e,t),m.cursorfreezed=!1,e<0?e=0:e>m.page.maxh&&(e=m.page.maxh),t<0?t=0:t>m.page.maxw&&(t=m.page.maxw),e!=m.newscrolly||t!=m.newscrollx)return m.doScrollPos(t,e,m.opt.snapbackspeed);m.onscrollend&&m.scrollrunning&&m.triggerScrollEnd(),m.scrollrunning=!1}):(this.doScrollLeft=function(e,t){var o=m.scrollrunning?m.newscrolly:m.getScrollTop();m.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=m.scrollrunning?m.newscrollx:m.getScrollLeft();m.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){function r(){if(m.cancelAnimationFrame)return!0;if(m.scrollrunning=!0,c=1-c)return m.timer=h(r)||1;var e=0,t,o,i=o=m.getScrollTop();m.dst.ay?(((t=(i=m.bzscroll?m.dst.py+m.bzscroll.getNow()*m.dst.ay:m.newscrolly)-o)<0&&i<m.newscrolly||0<t&&i>m.newscrolly)&&(i=m.newscrolly),m.setScrollTop(i),i==m.newscrolly&&(e=1)):e=1,o=t=m.getScrollLeft(),m.dst.ax?(((t=(o=m.bzscroll?m.dst.px+m.bzscroll.getNow()*m.dst.ax:m.newscrollx)-t)<0&&o<m.newscrollx||0<t&&o>m.newscrollx)&&(o=m.newscrollx),m.setScrollLeft(o),o==m.newscrollx&&(e+=1)):e+=1,2==e?(m.timer=0,m.cursorfreezed=!1,m.bzscroll=!1,m.scrollrunning=!1,i<0?i=0:i>m.page.maxh&&(i=Math.max(0,m.page.maxh)),o<0?o=0:o>m.page.maxw&&(o=m.page.maxw),o!=m.newscrollx||i!=m.newscrolly?m.doScrollPos(o,i):m.onscrollend&&m.triggerScrollEnd()):m.timer=h(r)||1}if(t=void 0===t||!1===t?m.getScrollTop(!0):t,m.timer&&m.newscrolly==t&&m.newscrollx==e)return!0;m.timer&&x(m.timer),m.timer=0;var i=m.getScrollTop(),s=m.getScrollLeft();((m.newscrolly-i)*(t-i)<0||(m.newscrollx-s)*(e-s)<0)&&m.cancelScroll(),m.newscrolly=t,m.newscrollx=e,m.bouncescroll&&m.rail.visibility||(m.newscrolly<0?m.newscrolly=0:m.newscrolly>m.page.maxh&&(m.newscrolly=m.page.maxh)),m.bouncescroll&&m.railh.visibility||(m.newscrollx<0?m.newscrollx=0:m.newscrollx>m.page.maxw&&(m.newscrollx=m.page.maxw)),m.dst={},m.dst.x=e-s,m.dst.y=t-i,m.dst.px=s,m.dst.py=i;var n=Math.round(Math.sqrt(Math.pow(m.dst.x,2)+Math.pow(m.dst.y,2)));m.dst.ax=m.dst.x/n,m.dst.ay=m.dst.y/n;var a=0,l=n,c;0==m.dst.x?(a=i,l=t,m.dst.ay=1,m.dst.py=0):0==m.dst.y&&(a=s,l=e,m.dst.ax=1,m.dst.px=0),n=m.getTransitionSpeed(n),o&&o<=1&&(n*=o),m.bzscroll=0<n&&(m.bzscroll?m.bzscroll.update(l,n):new d(a,l,n,0,1,0,1)),m.timer||((i==m.page.maxh&&t>=m.page.maxh||s==m.page.maxw&&e>=m.page.maxw)&&m.checkContentSize(),m.cancelAnimationFrame=!(c=1),m.timer=1,m.onscrollstart&&!m.scrollrunning&&m.onscrollstart.call(m,{type:"scrollstart",current:{x:s,y:i},request:{x:e,y:t},end:{x:m.newscrollx,y:m.newscrolly},speed:n}),r(),(i==m.page.maxh&&i<=t||s==m.page.maxw&&s<=e)&&m.checkContentSize(),m.noticeCursor())},this.cancelScroll=function(){return m.timer&&x(m.timer),m.timer=0,m.bzscroll=!1,m.scrollrunning=!1,m}):(this.doScrollLeft=function(e,t){var o=m.getScrollTop();m.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=m.getScrollLeft();m.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=e>m.page.maxw?m.page.maxw:e;i<0&&(i=0);var r=t>m.page.maxh?m.page.maxh:t;r<0&&(r=0),m.synched("scroll",function(){m.setScrollTop(r),m.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var o=0,o=t?Math.floor((m.scroll.y-e)*m.scrollratio.y):(m.timer?m.newscrolly:m.getScrollTop(!0))-e,i;return m.bouncescroll&&(o<-(i=Math.round(m.view.h/2))?o=-i:o>m.page.maxh+i&&(o=m.page.maxh+i)),m.cursorfreezed=!1,i=m.getScrollTop(!0),o<0&&i<=0?m.noticeCursor():o>m.page.maxh&&i>=m.page.maxh?(m.checkContentSize(),m.noticeCursor()):void m.doScrollTop(o)},this.doScrollLeftBy=function(e,t){var o=0,o=t?Math.floor((m.scroll.x-e)*m.scrollratio.x):(m.timer?m.newscrollx:m.getScrollLeft(!0))-e,i;if(m.bouncescroll&&(o<-(i=Math.round(m.view.w/2))?o=-i:o>m.page.maxw+i&&(o=m.page.maxw+i)),m.cursorfreezed=!1,i=m.getScrollLeft(!0),o<0&&i<=0||o>m.page.maxw&&i>=m.page.maxw)return m.noticeCursor();m.doScrollLeft(o)},this.doScrollTo=function(e,t){m.cursorfreezed=!1,m.doScrollTop(e)},this.checkContentSize=function(){var e=m.getContentSize();e.h==m.page.h&&e.w==m.page.w||m.resize(!1,e)},m.onscroll=function(e){m.rail.drag||m.cursorfreezed||m.synched("scroll",function(){m.scroll.y=Math.round(m.getScrollTop()*(1/m.scrollratio.y)),m.railh&&(m.scroll.x=Math.round(m.getScrollLeft()*(1/m.scrollratio.x))),m.noticeCursor()})},m.bind(m.docscroll,"scroll",m.onscroll),this.doZoomIn=function(e){if(!m.zoomactive){m.zoomactive=!0,m.zoomrestore={style:{}};var t="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),o=m.win[0].style,i;for(i in t){var r=t[i];m.zoomrestore.style[r]=void 0!==o[r]?o[r]:""}return m.zoomrestore.style.width=m.win.css("width"),m.zoomrestore.style.height=m.win.css("height"),m.zoomrestore.padding={w:m.win.outerWidth()-m.win.width(),h:m.win.outerHeight()-m.win.height()},f.isios4&&(m.zoomrestore.scrollTop=g(window).scrollTop(),g(window).scrollTop(0)),m.win.css({position:f.isios4?"absolute":"fixed",top:0,left:0,zIndex:b+100,margin:0}),""!=(t=m.win.css("backgroundColor"))&&!/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(t)||m.win.css("backgroundColor","#fff"),m.rail.css({zIndex:b+101}),m.zoom.css({zIndex:b+102}),m.zoom.css("backgroundPosition","0px -18px"),m.resizeZoom(),m.onzoomin&&m.onzoomin.call(m),m.cancelEvent(e)}},this.doZoomOut=function(e){if(m.zoomactive)return m.zoomactive=!1,m.win.css("margin",""),m.win.css(m.zoomrestore.style),f.isios4&&g(window).scrollTop(m.zoomrestore.scrollTop),m.rail.css({"z-index":m.zindex}),m.zoom.css({"z-index":m.zindex}),m.zoomrestore=!1,m.zoom.css("backgroundPosition","0px 0px"),m.onResize(),m.onzoomout&&m.onzoomout.call(m),m.cancelEvent(e)},this.doZoom=function(e){return m.zoomactive?m.doZoomOut(e):m.doZoomIn(e)},this.resizeZoom=function(){var e;m.zoomactive&&(e=m.getScrollTop(),m.win.css({width:g(window).width()-m.zoomrestore.padding.w+"px",height:g(window).height()-m.zoomrestore.padding.h+"px"}),m.onResize(),m.setScrollTop(Math.min(m.page.maxh,e)))},this.init(),g.nicescroll.push(this)},T=function(e){var d=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,t){d.stop();var o=d.time();d.steptime=0,d.lasttime=o,d.speedx=0,d.speedy=0,d.lastx=e,d.lasty=t,d.lastscrollx=-1,d.lastscrolly=-1},this.update=function(e,t){var o=d.time();d.steptime=o-d.lasttime,d.lasttime=o;var o=t-d.lasty,i=e-d.lastx,r=d.nc.getScrollTop(),s=d.nc.getScrollLeft(),r=r+o,s;d.snapx=(s=s+i)<0||s>d.nc.page.maxw,d.snapy=r<0||r>d.nc.page.maxh,d.speedx=i,d.speedy=o,d.lastx=e,d.lasty=t},this.stop=function(){d.nc.unsynched("domomentum2d"),d.timer&&clearTimeout(d.timer),d.timer=0,d.lastscrollx=-1,d.lastscrolly=-1},this.doSnapy=function(e,t){var o=!1;t<0?o=!(t=0):t>d.nc.page.maxh&&(t=d.nc.page.maxh,o=!0),e<0?o=!(e=0):e>d.nc.page.maxw&&(e=d.nc.page.maxw,o=!0),o?d.nc.doScrollPos(e,t,d.nc.opt.snapbackspeed):d.nc.triggerScrollEnd()},this.doMomentum=function(e){var t=d.time(),o=e?t+e:d.lasttime;e=d.nc.getScrollLeft();var i=d.nc.getScrollTop(),r=d.nc.page.maxh,s=d.nc.page.maxw,n,a,l,c;d.speedx=0<s?Math.min(60,d.speedx):0,d.speedy=0<r?Math.min(60,d.speedy):0,o=i<0||r<i||e<0||s<e?!1:o&&t-o<=60,e=!(!d.speedx||!o)&&d.speedx,d.speedy&&o&&d.speedy||e?(50<(n=Math.max(16,d.steptime))&&(d.speedx*=e=n/50,d.speedy*=e,n=50),d.demulxy=0,d.lastscrollx=d.nc.getScrollLeft(),d.chkx=d.lastscrollx,d.lastscrolly=d.nc.getScrollTop(),d.chky=d.lastscrolly,a=d.lastscrollx,l=d.lastscrolly,(c=function(){var e=600<d.time()-t?.04:.02;d.speedx&&(a=Math.floor(d.lastscrollx-d.speedx*(1-d.demulxy)),(d.lastscrollx=a)<0||s<a)&&(e=.1),d.speedy&&(l=Math.floor(d.lastscrolly-d.speedy*(1-d.demulxy)),(d.lastscrolly=l)<0||r<l)&&(e=.1),d.demulxy=Math.min(1,d.demulxy+e),d.nc.synched("domomentum2d",function(){d.speedx&&(d.nc.getScrollLeft(),d.chkx=a,d.nc.setScrollLeft(a)),d.speedy&&(d.nc.getScrollTop(),d.chky=l,d.nc.setScrollTop(l)),d.timer||(d.nc.hideCursor(),d.doSnapy(a,l))}),d.demulxy<1?d.timer=setTimeout(c,n):(d.stop(),d.nc.hideCursor(),d.doSnapy(a,l))})()):d.doSnapy(d.nc.getScrollLeft(),d.nc.getScrollTop())}},i=g.fn.scrollTop,o;g.cssHooks.pageYOffset={get:function(e,t,o){return(t=g.data(e,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollTop():i.call(e)},set:function(e,t){var o=g.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(t)):i.call(e,t),this}},g.fn.scrollTop=function(t){if(void 0!==t)return this.each(function(){var e=g.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):i.call(g(this),t)});var e=this[0]&&g.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollTop():i.call(this)};var s=g.fn.scrollLeft;g.cssHooks.pageXOffset={get:function(e,t,o){return(t=g.data(e,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollLeft():s.call(e)},set:function(e,t){var o=g.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(t)):s.call(e,t),this}},g.fn.scrollLeft=function(t){if(void 0!==t)return this.each(function(){var e=g.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):s.call(g(this),t)});var e=this[0]&&g.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollLeft():s.call(this)};var n=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return g.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var o=0;o<e.length;o++){var i=g.data(e[o],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};!function(e,t,o){for(var i=0;i<t.length;i++)o(e,t[i])}(n.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),g.fn.getNiceScroll=function(e){return void 0===e?new n(this):this[e]&&g.data(this[e],"__nicescroll")||!1},g.expr[":"].nicescroll=function(e){return void 0!==g.data(e,"__nicescroll")},g.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1),t=g.extend({},t);var o=new n;void 0===t&&(t={}),e&&(t.doc=g(e),t.win=g(this));var i=!("doc"in t);return i||"win"in t||(t.win=g(this)),this.each(function(){var e=g(this).data("__nicescroll")||!1;e||(t.doc=i?g(this):t.doc,e=new r(t,g(this)),g(this).data("__nicescroll",e)),o.push(e)}),1==o.length?o[0]:o},window.NiceScroll={getjQuery:function(){return g}},g.nicescroll||(g.nicescroll=new n,g.nicescroll.options=z)});
!function(P){function x(){var t=location.href;return hashtag=-1!==t.indexOf("#prettyPhoto")&&decodeURI(t.substring(t.indexOf("#prettyPhoto")+1,t.length)),hashtag=hashtag&&hashtag.replace(/<|>/g,""),hashtag}function $(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function I(){-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto")}function j(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i,o,e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==e?"":e[1]}P.prettyPhoto={version:"3.1.6"},P.fn.prettyPhoto=function(e){function i(){P(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(b/2-c.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:c.contentHeight,width:c.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:k/2-c.containerWidth/2<0?0:k/2-c.containerWidth/2,width:c.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(c.height).width(c.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==n(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(c.resized?P("a.pp_expand,a.pp_contract").show():P("a.pp_expand").hide()),!settings.autoplay_slideshow||v||_||P.prettyPhoto.startSlideshow(),settings.changepicturecallback(),_=!0}),d(),e.ajaxcallback()}function o(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){P(".pp_loaderIcon").show(),t()})}function p(t){1<t?P(".pp_nav").show():P(".pp_nav").hide()}function a(t,e){if(resized=!1,s(t,e),imageWidth=t,imageHeight=e,(k<f||b<u)&&doresize&&settings.allow_resize&&!w){for(resized=!0,fitting=!1;!fitting;)k<f?(imageWidth=k-200,imageHeight=e/t*imageWidth):b<u?(imageHeight=b-200,imageWidth=t/e*imageHeight):fitting=!0,u=imageHeight,f=imageWidth;(k<f||b<u)&&a(f,u),s(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(u),containerWidth:Math.floor(f)+2*settings.horizontal_padding,contentHeight:Math.floor(g),contentWidth:Math.floor(m),resized:resized}}function s(t,e){t=parseFloat(t),e=parseFloat(e),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(P("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(P("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),g=e+detailsHeight,m=t,u=g+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),f=t}function n(t){return t.match(/youtube\.com\/watch/i)||t.match(/youtu\.be/i)?"youtube":t.match(/vimeo\.com/i)?"vimeo":t.match(/\b.mov\b/i)?"quicktime":t.match(/\b.swf\b/i)?"flash":t.match(/\biframe=true\b/i)?"iframe":t.match(/\bajax=true\b/i)?"ajax":t.match(/\bcustom=true\b/i)?"custom":"#"==t.substr(0,1)?"inline":"image"}function l(){doresize&&"undefined"!=typeof $pp_pic_holder&&(scroll_pos=t(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=b/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>b||$pp_pic_holder.css({top:projectedTop,left:k/2+scroll_pos.scrollLeft-contentwidth/2}))}function t(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function r(){b=P(window).height(),k=P(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(P(document).height()).width(k)}function d(){isSet&&settings.overlay_gallery&&"image"==n(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((c.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,P.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function h(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),P("body").append(settings.markup),$pp_pic_holder=P(".pp_pic_holder"),$ppt=P(".ppt"),$pp_overlay=P("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;t<pp_images.length;t++)img_src=pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",pp_images[t]):(classname="default",""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=P(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return P.prettyPhoto.changeGalleryPage("next"),P.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return P.prettyPhoto.changeGalleryPage("previous"),P.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){P(this).find("a").click(function(){return P.prettyPhoto.changePage(t),P.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return P.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:P(document).height(),width:P(window).width()}).bind("click",function(){settings.modal||P.prettyPhoto.close()}),P("a.pp_close").bind("click",function(){return P.prettyPhoto.close(),!1}),settings.allow_expand&&P("a.pp_expand").bind("click",function(){return doresize=P(this).hasClass("pp_expand")?(P(this).removeClass("pp_expand").addClass("pp_contract"),!1):(P(this).removeClass("pp_contract").addClass("pp_expand"),!0),o(function(){P.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return P.prettyPhoto.changePage("previous"),P.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return P.prettyPhoto.changePage("next"),P.prettyPhoto.stopSlideshow(),!1}),l()}e=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt">&nbsp;</div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"></div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand</a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next</a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"></div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details"> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0</p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"></p> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_social">{pp_social}</div> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t</ul> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},e);var c,_,g,m,u,f,v,y=this,w=!1,b=P(window).height(),k=P(window).width();return doresize=!0,scroll_pos=t(),P(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){l(),r()}),e.keyboard_shortcuts&&P(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:P.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:P.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||P.prettyPhoto.close(),t.preventDefault()}}),P.prettyPhoto.initialize=function(){return settings=e,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=P(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=!!galleryRegExp.exec(theRel),pp_images=isSet?jQuery.map(y,function(t){return-1!=P(t).attr(settings.hook).indexOf(theRel)?P(t).attr("href"):void 0}):P.makeArray(P(this).attr("href")),pp_titles=isSet?jQuery.map(y,function(t){return-1!=P(t).attr(settings.hook).indexOf(theRel)?P(t).find("img").attr("alt")?P(t).find("img").attr("alt"):"":void 0}):P.makeArray(P(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(y,function(t){return-1!=P(t).attr(settings.hook).indexOf(theRel)?P(t).attr("title")?P(t).attr("title"):"":void 0}):P.makeArray(P(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(P(this).attr("href"),pp_images),rel_index=isSet?set_position:P("a["+settings.hook+"^='"+theRel+"']").index(P(this)),h(this),settings.allow_resize&&P(window).bind("scroll.prettyphoto",function(){l()}),P.prettyPhoto.open(),!1},P.prettyPhoto.open=function(t){return"undefined"==typeof settings&&(settings=e,pp_images=P.makeArray(t),pp_titles=P.makeArray(arguments[1]||""),pp_descriptions=P.makeArray(arguments[2]||""),isSet=1<pp_images.length,set_position=arguments[3]||0,h(t.target)),settings.hideflash&&P("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),p(P(pp_images).size()),P(".pp_loaderIcon").show(),settings.deeplinking&&$(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+P(pp_images).size()),void 0!==pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(j("width",pp_images[set_position]))?j("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(j("height",pp_images[set_position]))?j("height",pp_images[set_position]):settings.default_height.toString(),w=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(P(window).height()*parseFloat(movie_height)/100-150),w=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(P(window).width()*parseFloat(movie_width)/100-150),w=!0),$pp_pic_holder.fadeIn(function(){switch($ppt.html(settings.show_title&&""!=pp_titles[set_position]&&void 0!==pp_titles[set_position]?unescape(pp_titles[set_position]):"&nbsp;"),imgPreloader="",skipInjection=!1,n(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<P(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){c=a(imgPreloader.width,imgPreloader.height),i()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),P.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":c=a(movie_width,movie_height),movie_id=j("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],0<movie_id.indexOf("?")&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),0<movie_id.indexOf("&")&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="https://www.youtube.com/embed/"+movie_id,movie+=j("rel",pp_images[set_position])?"?rel="+j("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,c.width).replace(/{height}/g,c.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":c=a(movie_width,movie_height),movie_id=pp_images[set_position];var t,e=movie_id.match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/);movie="https://player.vimeo.com/video/"+e[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=c.width+"/embed/?moog_width="+c.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,c.height).replace(/{path}/g,movie);break;case"quicktime":(c=a(movie_width,movie_height)).height+=15,c.contentHeight+=15,c.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,c.width).replace(/{height}/g,c.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":c=a(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,c.width).replace(/{height}/g,c.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":c=a(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,c.width).replace(/{height}/g,c.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,c=a(movie_width,movie_height),doresize=!0,skipInjection=!0,P.get(pp_images[set_position],function(t){toInject=settings.inline_markup.replace(/{content}/g,t),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,i()});break;case"custom":c=a(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=P(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(P("body")).show(),doresize=!1,c=a(P(myClone).width(),P(myClone).height()),doresize=!0,P(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,P(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,i())}),!1},P.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,set_position<0&&(set_position=P(pp_images).size()-1)):"next"==t?(set_position++,set_position>P(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize=doresize||!0,settings.allow_expand&&P(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),o(function(){P.prettyPhoto.open()})},P.prettyPhoto.changeGalleryPage=function(t){"next"==t?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==t?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=t,slide_speed="next"==t||"previous"==t?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},P.prettyPhoto.startSlideshow=function(){void 0===v?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return P.prettyPhoto.stopSlideshow(),!1}),v=setInterval(P.prettyPhoto.startSlideshow,settings.slideshow)):P.prettyPhoto.changePage("next")},P.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return P.prettyPhoto.startSlideshow(),!1}),clearInterval(v),v=void 0},P.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(P.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),P("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){P(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&P("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),P(this).remove(),P(window).unbind("scroll.prettyphoto"),I(),settings.callback(),doresize=!0,_=!1,delete settings}))},!pp_alreadyInitialized&&x()&&(pp_alreadyInitialized=!0,hashIndex=x(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){P("a["+e.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",P.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;
!function(a){"use strict";a.fn.fitVids=function(t){var i={customSelector:null},e,s;return document.getElementById("fit-vids-style")||(e=document.createElement("div"),s=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],e.className="fit-vids-style",e.id="fit-vids-style",e.style.display="none",e.innerHTML="&shy;<style>                 .fluid-width-video-wrapper {                   width: 100%;                                position: relative;                         padding: 0;                      \t\t\t\t\t min-height: 1px;                         }                                                                                       .fluid-width-video-wrapper iframe,          .fluid-width-video-wrapper object,          .fluid-width-video-wrapper embed {             position: absolute;                         top: 0;                                     left: 0;                                    width: 100%;                                height: 100%;                            }                                         </style>",s.parentNode.insertBefore(e,s)),t&&a.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"],e,e;i.customSelector&&t.push(i.customSelector),(e=(e=a(this).find(t.join(","))).not("object object")).each(function(){var t=a(this),e,e,e,i,s,i,e,e,s,e,i,s,e,i,s,e,i,s,i;"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length||(s=0<t.closest(".flexslider").length?(e=0<t.closest("ul").find("li > img").length?t.closest("ul").height():0<t.closest("ul").find("video-wrap").length?t.closest("ul").find("video-wrap").height():500)/(i=isNaN(parseInt(t.closest("li").attr("width"),10))?t.closest("li").width():parseInt(t.closest("li").attr("width"),10)):0<t.closest(".portfolio_images").length?(i=$j(".portfolio_images").width(),(e=0<t.next("img").length?t.next("img").height():500)/i):t.closest(".post_image").length||t.closest(".q_masonry_blog_post_image").length?(e="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(i=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10)):(e="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(i=isNaN(parseInt(t.attr("width"),10))?t.parent().width():parseInt(t.attr("width"),10)),t.attr("id")||(i="fitvid"+Math.floor(999999*Math.random()),t.attr("id",i)),t.wrap('<div class="fluid-width-video-wrapper"></div>'),a(".fluid-width-video-wrapper").css("padding-top",100*s+"%"))})})}}(jQuery);
!function(v){var a=!0;v.flexslider=function(g,e){var h=v(g);h.vars=v.extend({},v.flexslider.defaults,e);var r=h.vars.namespace,S=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||S||window.DocumentTouch&&document instanceof DocumentTouch)&&h.vars.touch,l="click touchend MSPointerUp keyup",c="",t,x="vertical"===h.vars.direction,y=h.vars.reverse,b=0<h.vars.itemWidth,T="fade"===h.vars.animation,d=""!==h.vars.asNavFor,u={};v.data(g,"flexslider",h),u={init:function(){h.animating=!1,h.currentSlide=parseInt(h.vars.startAt||0,10),isNaN(h.currentSlide)&&(h.currentSlide=0),h.animatingTo=h.currentSlide,h.atEnd=0===h.currentSlide||h.currentSlide===h.last,h.containerSelector=h.vars.selector.substr(0,h.vars.selector.search(" ")),h.slides=v(h.vars.selector,h),h.container=v(h.containerSelector,h),h.count=h.slides.length,h.syncExists=0<v(h.vars.sync).length,"slide"===h.vars.animation&&(h.vars.animation="swing"),h.prop=x?"top":"marginLeft",h.args={},h.manualPause=!1,h.stopped=!1,h.started=!1,h.startTimeout=null,h.transitions=!h.vars.video&&!T&&h.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],a;for(a in t)if(void 0!==e.style[t[a]])return h.pfx=t[a].replace("Perspective","").toLowerCase(),h.prop="-"+h.pfx+"-transform",!0;return!1}(),(h.ensureAnimationEnd="")!==h.vars.controlsContainer&&(h.controlsContainer=0<v(h.vars.controlsContainer).length&&v(h.vars.controlsContainer)),""!==h.vars.manualControls&&(h.manualControls=0<v(h.vars.manualControls).length&&v(h.vars.manualControls)),""!==h.vars.customDirectionNav&&(h.customDirectionNav=2===v(h.vars.customDirectionNav).length&&v(h.vars.customDirectionNav)),h.vars.randomize&&(h.slides.sort(function(){return Math.round(Math.random())-.5}),h.container.empty().append(h.slides)),h.doMath(),h.setup("init"),h.vars.controlNav&&u.controlNav.setup(),h.vars.directionNav&&u.directionNav.setup(),h.vars.keyboard&&(1===v(h.containerSelector).length||h.vars.multipleKeyboard)&&v(document).bind("keyup",function(e){var e=e.keyCode,e;h.animating||39!==e&&37!==e||(e=39===e?h.getTarget("next"):37===e&&h.getTarget("prev"),h.flexAnimate(e,h.vars.pauseOnAction))}),h.vars.mousewheel&&h.bind("mousewheel",function(e,t,a,n){e.preventDefault();var t=t<0?h.getTarget("next"):h.getTarget("prev");h.flexAnimate(t,h.vars.pauseOnAction)}),h.vars.pausePlay&&u.pausePlay.setup(),h.vars.slideshow&&h.vars.pauseInvisible&&u.pauseInvisible.init(),h.vars.slideshow&&(h.vars.pauseOnHover&&h.hover(function(){h.manualPlay||h.manualPause||h.pause()},function(){h.manualPause||h.manualPlay||h.stopped||h.play()}),h.vars.pauseInvisible&&u.pauseInvisible.isHidden()||(0<h.vars.initDelay?h.startTimeout=setTimeout(h.play,h.vars.initDelay):h.play())),d&&u.asNav.setup(),o&&h.vars.touch&&u.touch(),(!T||T&&h.vars.smoothHeight)&&v(window).bind("resize orientationchange focus",u.resize),h.find("img").attr("draggable","false"),setTimeout(function(){h.vars.start(h)},200)},asNav:{setup:function(){h.asNav=!0,h.animatingTo=Math.floor(h.currentSlide/h.move),h.currentItem=h.currentSlide,h.slides.removeClass(r+"active-slide").eq(h.currentItem).addClass(r+"active-slide"),S?(g._slider=h).slides.each(function(){var e=this;e._gesture=new MSGesture,(e._gesture.target=e).addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var t=v(this),e=t.index();v(h.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(h.direction=h.currentItem<e?"next":"prev",h.flexAnimate(e,h.vars.pauseOnAction,!1,!0,!0))})}):h.slides.on(l,function(e){e.preventDefault();var t=v(this),e=t.index(),a;t.offset().left-v(h).scrollLeft()<=0&&t.hasClass(r+"active-slide")?h.flexAnimate(h.getTarget("prev"),!0):v(h.vars.asNavFor).data("flexslider").animating||t.hasClass(r+"active-slide")||(h.direction=h.currentItem<e?"next":"prev",h.flexAnimate(e,h.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){h.manualControls?u.controlNav.setupManual():u.controlNav.setupPaging()},setupPaging:function(){var e="thumbnails"===h.vars.controlNav?"control-thumbs":"control-paging",t=1,a,n,i,n;if(h.controlNavScaffold=v('<ol class="'+r+"control-nav "+r+e+'"></ol>'),1<h.pagingCount)for(var s=0;s<h.pagingCount;s++){void 0===(n=h.slides.eq(s)).attr("data-thumb-alt")&&n.attr("data-thumb-alt",""),altText=""!==n.attr("data-thumb-alt")?' alt="'+n.attr("data-thumb-alt")+'"':"",a="thumbnails"===h.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"'+altText+"/>":'<a href="#">'+t+"</a>","thumbnails"===h.vars.controlNav&&!0===h.vars.thumbCaptions&&""!==(i=n.attr("data-thumbcaption"))&&void 0!==i&&(a+='<span class="'+r+'caption">'+i+"</span>"),h.controlNavScaffold.append("<li>"+a+"</li>"),t++}(h.controlsContainer?v(h.controlsContainer):h).append(h.controlNavScaffold),u.controlNav.set(),u.controlNav.active(),h.controlNavScaffold.delegate("a, img",l,function(e){var t,a;e.preventDefault(),""!==c&&c!==e.type||(t=v(this),a=h.controlNav.index(t),t.hasClass(r+"active")||(h.direction=a>h.currentSlide?"next":"prev",h.flexAnimate(a,h.vars.pauseOnAction))),""===c&&(c=e.type),u.setToClearWatchedEvent()})},setupManual:function(){h.controlNav=h.manualControls,u.controlNav.active(),h.controlNav.bind(l,function(e){var t,a;e.preventDefault(),""!==c&&c!==e.type||(t=v(this),a=h.controlNav.index(t),t.hasClass(r+"active")||(a>h.currentSlide?h.direction="next":h.direction="prev",h.flexAnimate(a,h.vars.pauseOnAction))),""===c&&(c=e.type),u.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===h.vars.controlNav?"img":"a";h.controlNav=v("."+r+"control-nav li "+e,h.controlsContainer||h)},active:function(){h.controlNav.removeClass(r+"active").eq(h.animatingTo).addClass(r+"active")},update:function(e,t){1<h.pagingCount&&"add"===e?h.controlNavScaffold.append(v('<li><a href="#">'+h.count+"</a></li>")):(1===h.pagingCount?h.controlNavScaffold.find("li"):h.controlNav.eq(t).closest("li")).remove(),u.controlNav.set(),1<h.pagingCount&&h.pagingCount!==h.controlNav.length?h.update(t,e):u.controlNav.active()}},directionNav:{setup:function(){var e=v('<ul class="'+r+'direction-nav"><li class="'+r+'nav-prev"><a class="'+r+'prev" href="#">'+h.vars.prevText+'</a></li><li class="'+r+'nav-next"><a class="'+r+'next" href="#">'+h.vars.nextText+"</a></li></ul>");h.customDirectionNav?h.directionNav=h.customDirectionNav:h.controlsContainer?(v(h.controlsContainer).append(e),h.directionNav=v("."+r+"direction-nav li a",h.controlsContainer)):(h.append(e),h.directionNav=v("."+r+"direction-nav li a",h)),u.directionNav.update(),h.directionNav.bind(l,function(e){var t;e.preventDefault(),""!==c&&c!==e.type||(t=v(this).hasClass(r+"next")?h.getTarget("next"):h.getTarget("prev"),h.flexAnimate(t,h.vars.pauseOnAction)),""===c&&(c=e.type),u.setToClearWatchedEvent()})},update:function(){var e=r+"disabled";1===h.pagingCount?h.directionNav.addClass(e).attr("tabindex","-1"):h.vars.animationLoop?h.directionNav.removeClass(e).removeAttr("tabindex"):0===h.animatingTo?h.directionNav.removeClass(e).filter("."+r+"prev").addClass(e).attr("tabindex","-1"):h.animatingTo===h.last?h.directionNav.removeClass(e).filter("."+r+"next").addClass(e).attr("tabindex","-1"):h.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=v('<div class="'+r+'pauseplay"><a href="#"></a></div>');h.controlsContainer?(h.controlsContainer.append(e),h.pausePlay=v("."+r+"pauseplay a",h.controlsContainer)):(h.append(e),h.pausePlay=v("."+r+"pauseplay a",h)),u.pausePlay.update(h.vars.slideshow?r+"pause":r+"play"),h.pausePlay.bind(l,function(e){e.preventDefault(),""!==c&&c!==e.type||(v(this).hasClass(r+"pause")?(h.manualPause=!0,h.manualPlay=!1,h.pause()):(h.manualPause=!1,h.manualPlay=!0,h.play())),""===c&&(c=e.type),u.setToClearWatchedEvent()})},update:function(e){"play"===e?h.pausePlay.removeClass(r+"pause").addClass(r+"play").html(h.vars.playText):h.pausePlay.removeClass(r+"play").addClass(r+"pause").html(h.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),h.animating?e.preventDefault():(h.pause(),g._gesture.addPointer(e.pointerId),f=0,r=x?h.h:h.w,l=Number(new Date),s=b&&y&&h.animatingTo===h.last?0:b&&y?h.limit-(h.itemW+h.vars.itemMargin)*h.move*h.animatingTo:b&&h.currentSlide===h.last?h.limit:b?(h.itemW+h.vars.itemMargin)*h.move*h.currentSlide:y?(h.last-h.currentSlide+h.cloneOffset)*r:(h.currentSlide+h.cloneOffset)*r)}function t(e){e.stopPropagation();var t=e.target._slider;if(t){var a=-e.translationX,n=-e.translationY;return o=f+=x?n:a,v=x?Math.abs(f)<Math.abs(-a):Math.abs(f)<Math.abs(-n),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){g._gesture.stop()}):void((!v||500<Number(new Date)-l)&&(e.preventDefault(),!T&&t.transitions&&(t.vars.animationLoop||(o=f/(0===t.currentSlide&&f<0||t.currentSlide===t.last&&0<f?Math.abs(f)/r+2:1)),t.setProps(s+o,"setTouch"))))}}function a(e){e.stopPropagation();var t=e.target._slider,a,e;t&&(t.animatingTo!==t.currentSlide||v||null===o||(e=0<(a=y?-o:o)?t.getTarget("next"):t.getTarget("prev"),t.canAdvance(e)&&(Number(new Date)-l<550&&50<Math.abs(a)||Math.abs(a)>r/2)?t.flexAnimate(e,t.vars.pauseOnAction):T||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)),s=o=i=n=null,f=0)}var n,i,s,r,o,l,c,d,u,v=!1,p=0,m=0,f=0;S?(g.style.msTouchAction="none",g._gesture=new MSGesture,(g._gesture.target=g).addEventListener("MSPointerDown",e,!1),g._slider=h,g.addEventListener("MSGestureChange",t,!1),g.addEventListener("MSGestureEnd",a,!1)):(c=function(e){h.animating?e.preventDefault():!window.navigator.msPointerEnabled&&1!==e.touches.length||(h.pause(),r=x?h.h:h.w,l=Number(new Date),p=e.touches[0].pageX,m=e.touches[0].pageY,s=b&&y&&h.animatingTo===h.last?0:b&&y?h.limit-(h.itemW+h.vars.itemMargin)*h.move*h.animatingTo:b&&h.currentSlide===h.last?h.limit:b?(h.itemW+h.vars.itemMargin)*h.move*h.currentSlide:y?(h.last-h.currentSlide+h.cloneOffset)*r:(h.currentSlide+h.cloneOffset)*r,n=x?m:p,i=x?p:m,g.addEventListener("touchmove",d,!1),g.addEventListener("touchend",u,!1))},u=function(e){var t,a;g.removeEventListener("touchmove",d,!1),h.animatingTo!==h.currentSlide||v||null===o||(a=0<(t=y?-o:o)?h.getTarget("next"):h.getTarget("prev"),h.canAdvance(a)&&(Number(new Date)-l<550&&50<Math.abs(t)||Math.abs(t)>r/2)?h.flexAnimate(a,h.vars.pauseOnAction):T||h.flexAnimate(h.currentSlide,h.vars.pauseOnAction,!0)),g.removeEventListener("touchend",u,!1),s=o=i=n=null},g.addEventListener("touchstart",c,!(d=function(e){p=e.touches[0].pageX,m=e.touches[0].pageY,o=x?n-m:n-p;var t=500;(!(v=x?Math.abs(o)<Math.abs(p-i):Math.abs(o)<Math.abs(m-i))||Number(new Date)-l>t)&&(e.preventDefault(),!T&&h.transitions&&(h.vars.animationLoop||(o/=0===h.currentSlide&&o<0||h.currentSlide===h.last&&0<o?Math.abs(o)/r+2:1),h.setProps(s+o,"setTouch")))})))},resize:function(){!h.animating&&h.is(":visible")&&(b||h.doMath(),T?u.smoothHeight():b?(h.slides.width(h.computedW),h.update(h.pagingCount),h.setProps()):x?(h.viewport.height(h.h),h.setProps(h.h,"setTotal")):(h.vars.smoothHeight&&u.smoothHeight(),h.newSlides.width(h.computedW),h.setProps(h.computedW,"setTotal")))},smoothHeight:function(e){var t;x&&!T||(t=T?h:h.viewport,e?t.animate({height:h.slides.eq(h.animatingTo).height()},e):t.height(h.slides.eq(h.animatingTo).height()))},sync:function(e){var t=v(h.vars.sync).data("flexslider"),a=h.animatingTo;switch(e){case"animate":t.flexAnimate(a,h.vars.pauseOnAction,!1,!0);break;case"play":t.playing||t.asNav||t.play();break;case"pause":t.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=v(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var e=u.pauseInvisible.getHiddenProp(),e;e&&(e=e.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(e,function(){u.pauseInvisible.isHidden()?h.startTimeout?clearTimeout(h.startTimeout):h.pause():!h.started&&0<h.vars.initDelay?setTimeout(h.play,h.vars.initDelay):h.play()}))},isHidden:function(){var e=u.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(t),t=setTimeout(function(){c=""},3e3)}},h.flexAnimate=function(e,t,a,n,i){if(h.vars.animationLoop||e===h.currentSlide||(h.direction=e>h.currentSlide?"next":"prev"),d&&1===h.pagingCount&&(h.direction=h.currentItem<e?"next":"prev"),!h.animating&&(h.canAdvance(e,i)||a)&&h.is(":visible")){if(d&&n){var n=v(h.vars.asNavFor).data("flexslider");if(h.atEnd=0===e||e===h.count-1,n.flexAnimate(e,!0,!1,!0,i),h.direction=h.currentItem<e?"next":"prev",n.direction=h.direction,Math.ceil((e+1)/h.visible)-1===h.currentSlide||0===e)return h.currentItem=e,h.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),!1;h.currentItem=e,h.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),e=Math.floor(e/h.visible)}var s,i,e,i,e;h.animating=!0,h.animatingTo=e,t&&h.pause(),h.vars.before(h),h.syncExists&&!i&&u.sync("animate"),h.vars.controlNav&&u.controlNav.active(),b||h.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),h.atEnd=0===e||e===h.last,h.vars.directionNav&&u.directionNav.update(),e===h.last&&(h.vars.end(h),h.vars.animationLoop||h.pause()),T?o?(h.slides.eq(h.currentSlide).css({opacity:0,zIndex:1}),h.slides.eq(e).css({opacity:1,zIndex:2}),h.wrapup(s)):(h.slides.eq(h.currentSlide).css({zIndex:1}).animate({opacity:0},h.vars.animationSpeed,h.vars.easing),h.slides.eq(e).css({zIndex:2}).animate({opacity:1},h.vars.animationSpeed,h.vars.easing,h.wrapup)):(s=x?h.slides.filter(":first").height():h.computedW,e=b?(i=h.vars.itemMargin,(i=(h.itemW+i)*h.move*h.animatingTo)>h.limit&&1!==h.visible?h.limit:i):0===h.currentSlide&&e===h.count-1&&h.vars.animationLoop&&"next"!==h.direction?y?(h.count+h.cloneOffset)*s:0:h.currentSlide===h.last&&0===e&&h.vars.animationLoop&&"prev"!==h.direction?y?0:(h.count+1)*s:y?(h.count-1-e+h.cloneOffset)*s:(e+h.cloneOffset)*s,h.setProps(e,"",h.vars.animationSpeed),h.transitions?(h.vars.animationLoop&&h.atEnd||(h.animating=!1,h.currentSlide=h.animatingTo),h.container.unbind("webkitTransitionEnd transitionend"),h.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(h.ensureAnimationEnd),h.wrapup(s)}),clearTimeout(h.ensureAnimationEnd),h.ensureAnimationEnd=setTimeout(function(){h.wrapup(s)},h.vars.animationSpeed+100)):h.container.animate(h.args,h.vars.animationSpeed,h.vars.easing,function(){h.wrapup(s)})),h.vars.smoothHeight&&u.smoothHeight(h.vars.animationSpeed)}},h.wrapup=function(e){T||b||(0===h.currentSlide&&h.animatingTo===h.last&&h.vars.animationLoop?h.setProps(e,"jumpEnd"):h.currentSlide===h.last&&0===h.animatingTo&&h.vars.animationLoop&&h.setProps(e,"jumpStart")),h.animating=!1,h.currentSlide=h.animatingTo,h.vars.after(h)},h.animateSlides=function(){!h.animating&&a&&h.flexAnimate(h.getTarget("next"))},h.pause=function(){clearInterval(h.animatedSlides),h.animatedSlides=null,h.playing=!1,h.vars.pausePlay&&u.pausePlay.update("play"),h.syncExists&&u.sync("pause")},h.play=function(){h.playing&&clearInterval(h.animatedSlides),h.animatedSlides=h.animatedSlides||setInterval(h.animateSlides,h.vars.slideshowSpeed),h.started=h.playing=!0,h.vars.pausePlay&&u.pausePlay.update("pause"),h.syncExists&&u.sync("play")},h.stop=function(){h.pause(),h.stopped=!0},h.canAdvance=function(e,t){var a=d?h.pagingCount-1:h.last;return!!t||(d&&h.currentItem===h.count-1&&0===e&&"prev"===h.direction||(!d||0!==h.currentItem||e!==h.pagingCount-1||"next"===h.direction)&&((e!==h.currentSlide||d)&&(!!h.vars.animationLoop||(!h.atEnd||0!==h.currentSlide||e!==a||"next"===h.direction)&&(!h.atEnd||h.currentSlide!==a||0!==e||"next"!==h.direction))))},h.getTarget=function(e){return"next"===(h.direction=e)?h.currentSlide===h.last?0:h.currentSlide+1:0===h.currentSlide?h.last:h.currentSlide-1},h.setProps=function(e,t,a){var n=(i=e||(h.itemW+h.vars.itemMargin)*h.move*h.animatingTo,-1*function(){if(b)return"setTouch"===t?e:y&&h.animatingTo===h.last?0:y?h.limit-(h.itemW+h.vars.itemMargin)*h.move*h.animatingTo:h.animatingTo===h.last?h.limit:i;switch(t){case"setTotal":return y?(h.count-1-h.currentSlide+h.cloneOffset)*e:(h.currentSlide+h.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return y?e:h.count*e;case"jumpStart":return y?h.count*e:e;default:return e}}()+"px"),i,s;h.transitions&&(n=x?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",h.container.css("-"+h.pfx+"-transition-duration",a=void 0!==a?a/1e3+"s":"0s"),h.container.css("transition-duration",a)),h.args[h.prop]=n,!h.transitions&&void 0!==a||h.container.css(h.args),h.container.css("transform",n)},h.setup=function(e){var t,a;T?(h.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===e&&(o?h.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+h.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(h.currentSlide).css({opacity:1,zIndex:2}):0==h.vars.fadeFirstSlide?h.slides.css({opacity:0,display:"block",zIndex:1}).eq(h.currentSlide).css({zIndex:2}).css({opacity:1}):h.slides.css({opacity:0,display:"block",zIndex:1}).eq(h.currentSlide).css({zIndex:2}).animate({opacity:1},h.vars.animationSpeed,h.vars.easing)),h.vars.smoothHeight&&u.smoothHeight()):("init"===e&&(h.viewport=v('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(h).append(h.container),h.cloneCount=0,h.cloneOffset=0,y&&(a=v.makeArray(h.slides).reverse(),h.slides=v(a),h.container.empty().append(h.slides))),h.vars.animationLoop&&!b&&(h.cloneCount=2,h.cloneOffset=1,"init"!==e&&h.container.find(".clone").remove(),h.container.append(u.uniqueID(h.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(u.uniqueID(h.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),h.newSlides=v(h.vars.selector,h),t=y?h.count-1-h.currentSlide+h.cloneOffset:h.currentSlide+h.cloneOffset,x&&!b?(h.container.height(200*(h.count+h.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){h.newSlides.css({display:"block"}),h.doMath(),h.viewport.height(h.h),h.setProps(t*h.h,"init")},"init"===e?100:0)):(h.container.width(200*(h.count+h.cloneCount)+"%"),h.setProps(t*h.computedW,"init"),setTimeout(function(){h.doMath(),h.newSlides.css({width:h.computedW,marginRight:h.computedM,float:"left",display:"block"}),h.vars.smoothHeight&&u.smoothHeight()},"init"===e?100:0))),b||h.slides.removeClass(r+"active-slide").eq(h.currentSlide).addClass(r+"active-slide"),h.vars.init(h)},h.doMath=function(){var e=h.slides.first(),t=h.vars.itemMargin,a=h.vars.minItems,n=h.vars.maxItems;h.w=(void 0===h.viewport?h:h.viewport).width(),h.h=e.height(),h.boxPadding=e.outerWidth()-e.width(),b?(h.itemT=h.vars.itemWidth+t,h.itemM=t,h.minW=a?a*h.itemT:h.w,h.maxW=n?n*h.itemT-t:h.w,h.itemW=h.minW>h.w?(h.w-t*(a-1))/a:h.maxW<h.w?(h.w-t*(n-1))/n:h.vars.itemWidth>h.w?h.w:h.vars.itemWidth,h.visible=Math.floor(h.w/h.itemW),h.move=0<h.vars.move&&h.vars.move<h.visible?h.vars.move:h.visible,h.pagingCount=Math.ceil((h.count-h.visible)/h.move+1),h.last=h.pagingCount-1,h.limit=1===h.pagingCount?0:h.vars.itemWidth>h.w?h.itemW*(h.count-1)+t*(h.count-1):(h.itemW+t)*h.count-h.w-t):(h.itemW=h.w,h.itemM=t,h.pagingCount=h.count,h.last=h.count-1),h.computedW=h.itemW-h.boxPadding,h.computedM=h.itemM},h.update=function(e,t){h.doMath(),b||(e<h.currentSlide?h.currentSlide+=1:e<=h.currentSlide&&0!==e&&--h.currentSlide,h.animatingTo=h.currentSlide),h.vars.controlNav&&!h.manualControls&&("add"===t&&!b||h.pagingCount>h.controlNav.length?u.controlNav.update("add"):("remove"===t&&!b||h.pagingCount<h.controlNav.length)&&(b&&h.currentSlide>h.last&&(--h.currentSlide,--h.animatingTo),u.controlNav.update("remove",h.last))),h.vars.directionNav&&u.directionNav.update()},h.addSlide=function(e,t){var e=v(e);h.count+=1,h.last=h.count-1,x&&y?void 0!==t?h.slides.eq(h.count-t).after(e):h.container.prepend(e):void 0!==t?h.slides.eq(t).before(e):h.container.append(e),h.update(t,"add"),h.slides=v(h.vars.selector+":not(.clone)",h),h.setup(),h.vars.added(h)},h.removeSlide=function(e){var t=isNaN(e)?h.slides.index(v(e)):e;--h.count,h.last=h.count-1,(isNaN(e)?v(e,h.slides):x&&y?h.slides.eq(h.last):h.slides.eq(e)).remove(),h.doMath(),h.update(t,"remove"),h.slides=v(h.vars.selector+":not(.clone)",h),h.setup(),h.vars.removed(h)},u.init()},v(window).blur(function(e){a=!1}).focus(function(e){a=!0}),v.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},v.fn.flexslider=function(a){if("object"==typeof(a=void 0===a?{}:a))return this.each(function(){var e=v(this),t=a.selector||".slides > li",t=e.find(t);1===t.length&&!0===a.allowOneSlide||0===t.length?(t.fadeIn(400),a.start&&a.start(e)):void 0===e.data("flexslider")&&new v.flexslider(this,a)});var e=v(this).data("flexslider");switch(a){case"play":e.play();break;case"pause":e.pause();break;case"stop":e.stop();break;case"next":e.flexAnimate(e.getTarget("next"),!0);break;case"prev":case"previous":e.flexAnimate(e.getTarget("prev"),!0);break;default:"number"==typeof a&&e.flexAnimate(a,!0)}}}(jQuery);